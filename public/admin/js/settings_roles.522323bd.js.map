{"version":3,"sources":["webpack:///./src/routes/settings/roles.vue?4d3c","webpack:///./src/routes/settings/roles.vue?7a4a","webpack:///src/routes/settings/roles.vue","webpack:///./src/routes/settings/roles.vue?0793","webpack:///./src/routes/settings/roles.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","breadcrumb","currentProjectKey","slot","key","$t","on","$event","addNew","items","fields","adding","add","model","value","callback","$$v","newName","expression","_e","_v","staticRenderFns","component"],"mappings":"2IAAA,yBAAujB,EAAG,G,yCCA1jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,WAAaP,EAAIQ,WAAW,YAAa,IAAMR,EAAIS,kBAAoB,YAAa,SAAW,KAAK,CAACL,EAAG,WAAW,CAACM,KAAK,WAAW,CAACN,EAAG,kBAAkB,CAACO,IAAI,MAAMJ,MAAM,CAAC,KAAO,MAAM,mBAAmB,kCAAkC,aAAa,4BAA4B,MAAQP,EAAIY,GAAG,QAAQC,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIe,QAAS,OAAU,IAAI,GAAGX,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQP,EAAIgB,MAAM,QAAUhB,EAAIiB,OAAO,oBAAoB,aAAa,KAAO,cAAejB,EAAU,OAAEI,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,eAAeP,EAAIY,GAAG,UAAU,QAAUZ,EAAIY,GAAG,eAAe,YAAcZ,EAAIY,GAAG,mBAAmB,QAAUZ,EAAIkB,OAAO,SAAW,IAAIL,GAAG,CAAC,OAAS,SAASC,GAAQd,EAAIe,QAAS,GAAO,QAAUf,EAAImB,KAAKC,MAAM,CAACC,MAAOrB,EAAW,QAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,QAAQD,GAAKE,WAAW,cAAc,GAAGzB,EAAI0B,KAAKtB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAI2B,GAAG,oBAAoB,IACjmCC,EAAkB,G,0DCqCtB,GACA,qBACA,SAFA,WAGA,OACA,sEAGA,KAPA,WAQA,OACA,WACA,SACA,UACA,UACA,aAGA,0CACA,uCADA,IAEA,WAFA,WAGA,OACA,CACA,yBACA,qDAEA,CACA,sBACA,6DAIA,MAdA,WAcA,WACA,2EACA,GADA,IAEA,+EAGA,OApBA,WAqBA,OACA,CACA,aACA,sBAEA,CACA,oBACA,iCAKA,iBAjDA,SAiDA,kBACA,kBACA,mCACA,kBACA,eACA,sBAGA,mBACA,wBACA,yCACA,UAEA,eACA,uBAIA,SACA,IADA,WACA,WACA,eAEA,uCACA,4CAEA,UACA,YACA,oBAEA,mCACA,kBACA,uCACA,mFAEA,mBACA,YACA,uCACA,wBACA,yCACA,gBC9H8V,I,wBCQ1VC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/settings_roles.522323bd.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=33d39178&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=style&index=0&id=33d39178&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings-roles\"},[_c('v-header',{attrs:{\"breadcrumb\":_vm.breadcrumb,\"icon-link\":(\"/\" + _vm.currentProjectKey + \"/settings\"),\"settings\":\"\"}},[_c('template',{slot:\"buttons\"},[_c('v-header-button',{key:\"add\",attrs:{\"icon\":\"add\",\"background-color\":\"button-primary-background-color\",\"icon-color\":\"button-primary-text-color\",\"label\":_vm.$t('new')},on:{\"click\":function($event){_vm.addNew = true}}})],1)],2),_c('v-table',{attrs:{\"items\":_vm.items,\"columns\":_vm.fields,\"primary-key-field\":\"collection\",\"link\":\"__link__\"}}),(_vm.addNew)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-prompt',{attrs:{\"confirm-text\":_vm.$t('create'),\"message\":_vm.$t('create_role'),\"placeholder\":_vm.$t('enter_role_name'),\"loading\":_vm.adding,\"required\":\"\"},on:{\"cancel\":function($event){_vm.addNew = false},\"confirm\":_vm.add},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1):_vm._e(),_c('v-info-sidebar',{attrs:{\"wide\":\"\"}},[_c('span',{staticClass:\"type-note\"},[_vm._v(\"No settings\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"settings-roles\">\r\n\t\t<v-header :breadcrumb=\"breadcrumb\" :icon-link=\"`/${currentProjectKey}/settings`\" settings>\r\n\t\t\t<template slot=\"buttons\">\r\n\t\t\t\t<v-header-button\r\n\t\t\t\t\tkey=\"add\"\r\n\t\t\t\t\ticon=\"add\"\r\n\t\t\t\t\tbackground-color=\"button-primary-background-color\"\r\n\t\t\t\t\ticon-color=\"button-primary-text-color\"\r\n\t\t\t\t\t:label=\"$t('new')\"\r\n\t\t\t\t\t@click=\"addNew = true\"\r\n\t\t\t\t/>\r\n\t\t\t</template>\r\n\t\t</v-header>\r\n\t\t<v-table :items=\"items\" :columns=\"fields\" primary-key-field=\"collection\" link=\"__link__\" />\r\n\r\n\t\t<portal v-if=\"addNew\" to=\"modal\">\r\n\t\t\t<v-prompt\r\n\t\t\t\tv-model=\"newName\"\r\n\t\t\t\t:confirm-text=\"$t('create')\"\r\n\t\t\t\t:message=\"$t('create_role')\"\r\n\t\t\t\t:placeholder=\"$t('enter_role_name')\"\r\n\t\t\t\t:loading=\"adding\"\r\n\t\t\t\trequired\r\n\t\t\t\t@cancel=\"addNew = false\"\r\n\t\t\t\t@confirm=\"add\"\r\n\t\t\t/>\r\n\t\t</portal>\r\n\t\t<v-info-sidebar wide>\r\n\t\t\t<span class=\"type-note\">No settings</span>\r\n\t\t</v-info-sidebar>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../../api';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'SettingsRoles',\r\n\tmetaInfo() {\r\n\t\treturn {\r\n\t\t\ttitle: `${this.$t('settings')} | ${this.$t('roles')}`\r\n\t\t};\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\terror: null,\r\n\t\t\troles: [],\r\n\t\t\tadding: false,\r\n\t\t\taddNew: false,\r\n\t\t\tnewName: ''\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['currentProjectKey']),\r\n\t\tbreadcrumb() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$t('settings'),\r\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings`\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$t('roles'),\r\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings/roles`\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\titems() {\r\n\t\t\treturn this.roles.map(role => ({\r\n\t\t\t\t...role,\r\n\t\t\t\t__link__: `/${this.currentProjectKey}/settings/roles/${role.id}`\r\n\t\t\t}));\r\n\t\t},\r\n\t\tfields() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tfield: 'name',\r\n\t\t\t\t\tname: this.$t('name')\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tfield: 'description',\r\n\t\t\t\t\tname: this.$t('description')\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\t},\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tapi.getRoles()\r\n\t\t\t.then(res => res.data)\r\n\t\t\t.then(roles => {\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.$data.roles = roles;\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\terror\r\n\t\t\t\t});\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.$data.error = error;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tadd() {\r\n\t\t\tthis.adding = true;\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.createRole({\r\n\t\t\t\t\tname: this.newName\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => res.data)\r\n\t\t\t\t.then(role => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$router.push(`/${this.currentProjectKey}/settings/roles/${role.id}`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.adding = false;\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-roles {\r\n\tpadding: var(--page-padding) var(--page-padding) var(--page-padding-bottom);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=33d39178&scoped=true&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roles.vue?vue&type=style&index=0&id=33d39178&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33d39178\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}