{"version":3,"sources":["webpack:///./src/routes/settings/fields.vue?7d35","webpack:///./src/components/field-setup.vue?a84d","webpack:///src/components/field-setup.vue","webpack:///./src/components/field-setup.vue?c8e0","webpack:///./src/components/field-setup.vue","webpack:///./src/components/field-duplicate.vue?41c9","webpack:///src/components/field-duplicate.vue","webpack:///./src/components/field-duplicate.vue?9c13","webpack:///./src/components/field-duplicate.vue","webpack:///src/routes/settings/fields.vue","webpack:///./src/routes/settings/fields.vue?262a","webpack:///./src/routes/settings/fields.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/routes/settings/fields.vue?7aca","webpack:///./src/components/field-setup.vue?eaca","webpack:///./src/components/field-duplicate.vue?5fb5"],"names":["render","_vm","this","_h","$createElement","_c","_self","collectionInfo","staticClass","attrs","breadcrumb","currentProjectKey","slot","key","$t","on","$event","confirmRemove","saving","Object","keys","edits","length","save","_v","_s","$tc","class","dragging","startSort","saveSort","model","value","callback","$$v","fields","expression","_l","field","style","cursor","interface","stopPropagation","startEditingField","directives","name","rawName","$store","state","extensions","interfaces","_e","toManage","includes","manageField","canDuplicate","fieldOptions","fieldOptionsClicked","directusFields","values","stageValue","remove","fieldToBeRemoved","confirmFieldRemove","removeField","fieldBeingEdited","fieldSaving","editingField","setFieldSettings","fieldBeingDuplicated","duplicatingField","duplicateFieldSettings","staticRenderFns","existing","displayName","tabs","activeTab","buttons","nextTab","$emit","thing","interfaceName","interfaceFilter","group","title","ext","id","active","setInterface","icon","interfaceSubtitles","preventDefault","iconToShow","color","tooltip","slug","replacement","lower","trim","$helpers","formatTitle","type","default_value","note","fieldInfo","primary_key","required","readonly","typeOption","domProps","fieldTypeDescription","db","databaseVendor","datatype","selectedDatatypeInfo","description","decimal","lengthDisabled","validation","primaryKeyDisabled","unique","hidden_detail","hidden_browse","signed","options","limit","width","placeholder","translation","selectedInterfaceInfo","relation","relationInfo","collection_many","collection","field_many","$set","collectionsGrouped","primaryKeyFieldByCollection","collection_one","primaryKeyField","fieldsNonSystem","ref","createM2Mjunction","junctionNameM2M","autoM2Msuggestion","relationInfoM2M","currentM2MIndex","interfaceOptions","option","optionID","loading","snarkdown","comment","advanced","default","component","formatField","saveField","selectedCollection","collections","_typeof","obj","Symbol","iterator","constructor","prototype"],"mappings":"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CA,SACA,mBAFA,SAEA,GACA,eACA,sCAEA,UAGA,QATA,WAUA,iBACA,wBAGA,uBACA,gBACA,wBACA,MACA,aACA,iBACA,iCAGA,wBACA,wBAGA,yBAEA,MACA,eACA,wBACA,wBAGA,yBACA,MACA,cACA,QACA,iBACA,QAGA,aA3CA,SA2CA,GACA,qBAEA,eACA,gBAGA,UAlDA,WAmDA,OACA,WACA,eACA,iBACA,eACA,uBACA,6BACA,iCACA,qBACA,uBACA,uBACA,mBACA,eACA,iCACA,iCACA,6BACA,2BACA,iBACA,+BAGA,0BACA,uBAGA,qBACA,sBAGA,OACA,YACA,eAGA,gBACA,wBACA,uDACA,sBAGA,wBACA,iDAGA,wBACA,iDACA,4BACA,qCAKA,sBAEA,aAzGA,WAyGA,WACA,2DASA,2BACA,iCACA,yBACA,4CAGA,oCACA,2BAIA,+BAGA,6CACA,2DAEA,aApIA,WAoIA,WACA,kBAEA,qCACA,aAEA,0BACA,2DAEA,EACA,sCACA,wCACA,sCAGA,4BACA,sCAGA,GACA,gCAIA,iEACA,wCACA,+CACA,uDACA,cACA,8CACA,+EACA,kBACA,YAEA,0BACA,2DAEA,EACA,sCACA,wCACA,sCAGA,4BACA,sCAGA,GACA,gCAIA,gEACA,uCAEA,gDACA,uDACA,cAEA,+CACA,+EACA,kBACA,MAEA,sBAEA,0BACA,2DAEA,MACA,kDAEA,gCAEA,sDAEA,uCACA,4BAEA,oDACA,uCACA,4BAEA,yCAEA,+DAEA,uCACA,qCAEA,kCACA,sBACA,2BAEA,4DAEA,sDAEA,iDACA,2CACA,SAEA,sEAEA,qDACA,2CACA,SAEA,iDACA,2CACA,SAEA,wEAEA,qDACA,2CACA,SAOA,qCACA,gEAEA,wDACA,kGAMA,SAzQA,WA0QA,wCACA,+BAEA,uDAGA,qBADA,EACA,KAEA,MAGA,OArRA,SAqRA,GACA,SACA,2BADA,IAGA,gBAzRA,SAyRA,GACA,eACA,iCACA,eACA,8CACA,KAGA,mCAEA,4BAnSA,SAmSA,GACA,qBACA,8CAEA,kBAvSA,SAuSA,GAEA,SACA,WACA,oBACA,uBACA,oBACA,eAEA,kBAhTA,SAgTA,KACA,gBAIA,4BArTA,WAqTA,WACA,GACA,gCACA,UACA,oCACA,QACA,CACA,WACA,eACA,eACA,wBACA,eACA,kBACA,UACA,WAEA,CACA,yCACA,sCACA,wCACA,KACA,UACA,0CACA,wCACA,SACA,eACA,YACA,aAEA,CACA,yCACA,sCACA,wCACA,KACA,UACA,0CACA,wCACA,SACA,eACA,YACA,eAIA,GACA,IACA,kBACA,gCACA,eACA,mBACA,WACA,WACA,iBACA,iBACA,wBACA,YACA,SACA,UACA,aACA,eACA,WACA,YACA,UACA,OACA,iBACA,eACA,UACA,gBACA,UAGA,uCACA,gCACA,yCACA,kFACA,SACA,UACA,eACA,kBACA,mBACA,UACA,UACA,mFACA,OACA,eACA,iBACA,iBACA,YACA,aACA,UACA,iBACA,YACA,QACA,gBACA,WACA,WAEA,uCACA,gCACA,yCACA,kFACA,SACA,UACA,eACA,kBACA,mBACA,UACA,UACA,mFACA,OACA,eACA,iBACA,iBACA,YACA,aACA,UACA,iBACA,YACA,QACA,gBACA,WACA,WAEA,UACA,oBACA,eAEA,mCACA,kBACA,mEACA,GADA,IAEA,YAEA,mCACA,6BACA,2BACA,gBACA,aAIA,mBACA,wBACA,yCACA,gBCtgDqV,I,wBCQjVwG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI1J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQR,EAAIa,GAAG,qBACjI,KACAb,EAAIkG,SAASyD,YAAY3J,EAAIuG,UAAUlE,MAAOrC,EAAIuG,UAAU6B,YAAY,QAAUpI,EAAI4E,SAAS9D,GAAG,CAAC,KAAO,SAASC,GAAQ,OAAOf,EAAI4J,aAAa,MAAQ,SAAS7I,GAAQ,OAAOf,EAAI8E,MAAM,YAAY,CAAC1E,EAAG,OAAO,CAACG,YAAY,UAAUO,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAO2E,oBAAqB,CAACtF,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,QAAQ,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIyB,IAAI,aAAc,IAAI,KAAKrB,EAAG,kBAAkB,CAACI,MAAM,CAAC,SAAW,IAAIsB,MAAM,CAACC,MAAO/B,EAAsB,mBAAEgC,SAAS,SAAUC,GAAMjC,EAAI6J,mBAAmB5H,GAAKE,WAAW,uBAAuBnC,EAAIoC,GAAIlB,OAAOC,KAAKlB,KAAK6J,cAAc,SAAS1B,GAAY,OAAOhI,EAAG,SAAS,CAACQ,IAAIwH,EAAWxB,SAAS,CAAC,MAAQwB,EAAW,SAAWA,IAAepI,EAAI6J,qBAAqB,CAAC7J,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIkG,SAASC,YAAYiC,IAAa,UAAS,IAAI,KAAKhI,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,QAAQ,CAACJ,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIyB,IAAI,QAAS,GAAK,IAAMzB,EAAIa,GAAG,SAAS,KAAKT,EAAG,UAAU,CAACI,MAAM,CAAC,SAAW,GAAG,MAAQR,EAAIqC,MAAM,YAAcrC,EAAIuG,UAAUlE,MAAM,aAAarC,EAAI2F,WAAWH,KAAK,mBAAmBxF,EAAI2F,WAAWC,MAAM,qBAAqB5F,EAAI2F,WAAWE,SAAS/D,MAAM,CAACC,MAAO/B,EAAS,MAAEgC,SAAS,SAAUC,GAAMjC,EAAIqC,MAAMJ,GAAKE,WAAW,YAAY,GAAG/B,EAAG,IAAI,CAACG,YAAY,cAAc,CAACP,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAIa,GAAG,iBAAiB,MAAMT,EAAG,IAAI,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGxB,EAAIkG,SAASC,YAAYnG,EAAIqC,OAAS,oBAC/0C,EAAkB,GCkDtB,G,oBAAA,CACA,uBACA,OACA,uBACA,YACA,aAEA,kBACA,YACA,cAGA,KAZA,WAaA,OACA,kDACA,yDACA,WACA,YAGA,UACA,eADA,WAEA,4EAEA,qBAJA,WAKA,6DAEA,eAPA,WAQA,6EAIA,oEAMA,aAlBA,WAmBA,kEAKA,WAxBA,WAyBA,kBAGA,kBACA,8BAEA,CACA,aACA,eACA,oEARA,wBAWA,aArCA,WAqCA,WACA,KAMA,OALA,mFACA,cACA,WAGA,GAKA,qBAjDA,WAkDA,6EAEA,YApDA,WAqDA,sDACA,sBACA,4DACA,sBAEA,OADA,UACA,IACA,KAEA,QA7DA,WA8DA,OACA,MACA,4BACA,uBACA,wBAKA,OACA,MADA,SACA,GAEA,aACA,WACA,cACA,oBACA,uBACA,sBAGA,SACA,UADA,WAEA,eAEA,qBACA,mBACA,0CACA,YACA,QAEA,gCACA,SAGA,OACA,YACA,oCAGA,yBC9KyV,ICQrV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,oBCkIf,GACA,sBACA,SAFA,WAGA,OACA,qEACA,2DAIA,YACA,sBACA,cACA,mBAEA,OACA,YACA,YACA,cAGA,KApBA,WAqBA,OACA,YACA,6BACA,cACA,eACA,cACA,cACA,QAEA,eACA,UACA,YAEA,YACA,oBAEA,YACA,SAEA,iBACA,wBAEA,qBACA,aAEA,SAEA,sBACA,sBACA,sBAEA,0BACA,oBAEA,kBAGA,0CACA,uCADA,IAEA,WAFA,WAGA,OACA,CACA,yBACA,qDAEA,CACA,uCACA,iEAEA,CACA,qDACA,4FAIA,eAlBA,WAmBA,uDAEA,eArBA,WAsBA,8EACA,GADA,IAEA,eAGA,OA3BA,WA4BA,wCACA,qBACA,eAIA,SACA,YADA,SACA,cACA,4BACA,kDACA,0CACA,GACA,cACA,YACA,aAEA,GACA,YACA,eAEA,oLACA,oCADA,OAEA,cACA,iDAHA,6CAMA,OApBA,WAoBA,WACA,mCACA,4CAEA,UACA,kCACA,iBACA,uCACA,mDACA,WACA,iCACA,cACA,mBAEA,2EAEA,mBACA,uCACA,wBACA,yCACA,cAIA,KA5CA,WA4CA,WACA,eAEA,uCACA,4CAEA,UACA,6CACA,iBACA,WACA,iCACA,cACA,mBAEA,uCACA,YACA,sCACA,wBACA,gBAEA,2EAEA,mBACA,YACA,uCACA,wBACA,yCACA,cAIA,WA3EA,YA2EA,wBACA,2BAKA,0BAJA,4BAMA,aAnFA,SAmFA,GACA,YAGA,kDAEA,uBAzFA,YAyFA,wCACA,KAEA,mCAMA,OALA,4CAEA,eACA,mCAEA,eACA,0DACA,0BAEA,yCACA,uCAEA,mBACA,kDAEA,8BACA,aACA,UAEA,WACA,4BACA,qDAEA,cACA,sBAGA,iBACA,sBACA,+BAEA,mBACA,uCACA,wBACA,yCACA,cAKA,iBArIA,YAqIA,kNACA,iBAEA,6BACA,cACA,+BAEA,gCACA,yCARA,UAWA,EAXA,iCAYA,mBACA,aACA,QACA,GAfA,gBAYA,EAZA,EAYA,KAMA,mCACA,qBACA,KAGA,WACA,4BACA,cACA,mBA1BA,yCA6BA,mBACA,aACA,GA/BA,iBA6BA,EA7BA,EA6BA,KAKA,iDAEA,WACA,4BACA,cACA,mBAvCA,QA6CA,GAFA,oCAEA,EAgBA,GAfA,EADA,yDACA,gHACA,iBAEA,EAHA,gCAIA,sBACA,KACA,GANA,gBAIA,EAJA,EAIA,KAIA,sCARA,wCAUA,yBAVA,iBAUA,EAVA,EAUA,KACA,mCAXA,4CADA,sDAgBA,mCACA,GADA,IACA,qCACA,KAFA,oCAKA,KAIA,kBACA,wBACA,iBACA,uCAzEA,qDA2EA,iBACA,uCACA,wBACA,yCACA,aA/EA,6DAmFA,aAxNA,SAwNA,GACA,OACA,CACA,0BACA,+BACA,iEAEA,CACA,uBACA,yBAIA,oBArOA,SAqOA,KACA,UACA,OACA,uBACA,MACA,OACA,8BACA,MACA,WAGA,eAhPA,SAgPA,GACA,4BACA,0BAEA,kBApPA,SAoPA,GACA,wBACA,sBAEA,gBAxPA,SAwPA,GACA,wBACA,4BAEA,YA5PA,SA4PA,cACA,sBAEA,uCACA,4CAEA,UACA,+BACA,iBACA,uCACA,oEACA,mBACA,wBACA,wBACA,WACA,4BACA,cACA,mBAEA,iCACA,wBACA,aAGA,mBACA,uCACA,wBACA,yCACA,cAIA,UA5RA,WA6RA,kBAEA,SA/RA,WA+RA,WACA,iBAEA,kDACA,cACA,gBAGA,mCACA,4CAEA,cACA,MADA,kBACA,oBACA,kBAEA,mCACA,kBACA,uCACA,kCACA,wBACA,YAEA,cAEA,mBACA,uCACA,wBACA,yCACA,eAKA,iBA5ZA,SA4ZA,WACA,sBAEA,iBAGA,OAFA,uCAEA,aACA,yCACA,oBACA,gBAGA,iEACA,sBACA,kBAEA,oDACA,qCACA,eACA,0CACA,2DACA,GADA,IAEA,kBACA,iBAEA,gBAEA,iCACA,qCACA,+BAGA,iBACA,yDACA,GADA,IAEA,uBAEA,oBACA,wBACA,gBACA,iBACA,4BAIA,mBACA,qCACA,eACA,wBCjmB+V,ICQ3V,G,UAAY,eACd,EACAtC,EACAwE,GACA,EACA,KACA,WACA,OAIa,e,kKCnBA,SAASwF,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,GAItHD,EAAQC,K,oFCbjB,yBAAwjB,EAAG,G,kCCA3jB,yBAAwiB,EAAG,G,kCCA3iB,yBAA4iB,EAAG","file":"js/settings_fields.26f61972.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.collectionInfo)?_c('not-found'):_c('div',{staticClass:\"settings-fields\"},[_c('v-header',{attrs:{\"breadcrumb\":_vm.breadcrumb,\"icon-link\":(\"/\" + _vm.currentProjectKey + \"/settings/collections\"),\"settings\":\"\"}},[_c('template',{slot:\"buttons\"},[_c('v-header-button',{key:\"delete\",attrs:{\"icon\":\"delete_outline\",\"background-color\":\"danger\",\"icon-color\":\"white\",\"hover-color\":\"danger-dark\",\"label\":_vm.$t('delete')},on:{\"click\":function($event){_vm.confirmRemove = true}}}),_c('v-header-button',{key:\"save\",attrs:{\"icon\":\"check\",\"background-color\":\"button-primary-background-color\",\"icon-color\":\"button-primary-text-color\",\"loading\":_vm.saving,\"disabled\":Object.keys(_vm.edits).length === 0,\"label\":_vm.$t('save')},on:{\"click\":_vm.save}})],1)],2),_c('label',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$tc('field', 2)))]),_c('v-notice',{attrs:{\"color\":\"warning\",\"icon\":\"warning\"}},[_vm._v(_vm._s(_vm.$t('fields_are_saved_instantly')))]),_c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"drag\"},[_c('v-icon',{attrs:{\"name\":\"swap_vert\"}})],1),_c('div',[_vm._v(_vm._s(_vm.$tc('field', 1)))]),_c('div',[_vm._v(_vm._s(_vm.$tc('interface', 1)))])])]),_c('div',{staticClass:\"body\",class:{ dragging: _vm.dragging }},[_c('draggable',{on:{\"start\":_vm.startSort,\"end\":_vm.saveSort},model:{value:(_vm.fields),callback:function ($$v) {_vm.fields=$$v},expression:\"fields\"}},_vm._l((_vm.fields),function(field){return _c('div',{key:field.field,staticClass:\"row\"},[_c('div',{staticClass:\"drag\"},[_c('v-icon',{attrs:{\"name\":\"drag_handle\"}})],1),_c('div',{staticClass:\"inner row\",style:({ cursor: field.interface ? 'inherit' : 'default' }),on:{\"click\":function($event){$event.stopPropagation();field.interface ? _vm.startEditingField(field) : false}}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(field.field.length > 25 ? field.field : null),expression:\"field.field.length > 25 ? field.field : null\"}],staticClass:\"monospace\"},[_vm._v(\" \"+_vm._s(field.field)+\" \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$store.state.extensions.interfaces[field.interface] && _vm.$store.state.extensions.interfaces[field.interface].name)+\" \"),(!field.interface)?_c('v-button',{staticClass:\"not-managed\",attrs:{\"loading\":_vm.toManage.includes(field.field)},on:{\"click\":function($event){return _vm.manageField(field)}}},[_vm._v(\" \"+_vm._s(_vm.$t('manage'))+\" \")]):_vm._e()],1)]),(_vm.canDuplicate(field.interface) || _vm.fields.length > 1)?_c('v-contextual-menu',{staticClass:\"more-options\",attrs:{\"placement\":\"left-start\",\"options\":_vm.fieldOptions(field)},on:{\"click\":function($event){return _vm.fieldOptionsClicked(field, $event)}}}):_vm._e()],1)}),0)],1)]),_c('v-button',{staticClass:\"new-field\",on:{\"click\":function($event){return _vm.startEditingField({})}}},[_vm._v(\" \"+_vm._s(_vm.$t('new_field'))+\" \")]),(_vm.fields)?_c('v-form',{attrs:{\"fields\":_vm.directusFields,\"values\":_vm.values,\"collection\":\"directus_collections\"},on:{\"stage-value\":_vm.stageValue}}):_vm._e(),(_vm.confirmRemove)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-confirm',{attrs:{\"color\":\"danger\",\"message\":_vm.$t('delete_collection_are_you_sure'),\"confirm-text\":_vm.$t('delete')},on:{\"cancel\":function($event){_vm.confirmRemove = false},\"confirm\":_vm.remove}})],1):_vm._e(),(_vm.confirmFieldRemove)?_c('portal',{attrs:{\"to\":\"modal\"}},[_c('v-confirm',{attrs:{\"color\":\"danger\",\"message\":_vm.$t('delete_field_are_you_sure', { field: _vm.fieldToBeRemoved }),\"confirm-text\":_vm.$t('delete')},on:{\"cancel\":function($event){_vm.confirmFieldRemove = false},\"confirm\":function($event){return _vm.removeField(_vm.fieldToBeRemoved)}}})],1):_vm._e(),(_vm.editingField)?_c('v-field-setup',{attrs:{\"field-info\":_vm.fieldBeingEdited,\"collection-info\":_vm.collectionInfo,\"saving\":_vm.fieldSaving},on:{\"close\":function($event){_vm.editingField = false},\"save\":_vm.setFieldSettings}}):_vm._e(),(_vm.duplicatingField)?_c('v-field-duplicate',{attrs:{\"field-information\":_vm.fieldBeingDuplicated,\"collection-information\":_vm.collectionInfo},on:{\"close\":function($event){_vm.duplicatingField = false},\"save\":_vm.duplicateFieldSettings}}):_vm._e(),_c('v-info-sidebar',{attrs:{\"wide\":\"\"}},[_c('span',{staticClass:\"type-note\"},[_vm._v(\"No settings\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-modal',{attrs:{\"title\":_vm.existing ? _vm.$t('update_field') + ': ' + _vm.displayName : _vm.$t('create_field'),\"tabs\":_vm.tabs,\"active-tab\":_vm.activeTab,\"buttons\":_vm.buttons},on:{\"tab\":function($event){_vm.activeTab = $event},\"next\":_vm.nextTab,\"close\":function($event){return _vm.$emit('close')}}},[_c('template',{slot:\"interface\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_interface'))+\" \")]):_vm._e(),(_vm.interfaceName)?_c('v-notice',{staticClass:\"currently-selected\",attrs:{\"color\":\"gray\"}},[_vm._v(\" \"+_vm._s(_vm.$t('currently_selected', { thing: _vm.interfaces[_vm.interfaceName].name }))+\" \")]):_c('v-input',{staticClass:\"interface-filter\",attrs:{\"type\":\"text\",\"placeholder\":\"Find an interface...\",\"icon-left\":\"search\",\"autofocus\":\"\"},model:{value:(_vm.interfaceFilter),callback:function ($$v) {_vm.interfaceFilter=$$v},expression:\"interfaceFilter\"}}),(!_vm.interfaceFilter)?_c('div',_vm._l((_vm.interfacesPopular),function(group){return _c('v-details',{key:group.title,attrs:{\"title\":group.title,\"open\":true}},[_c('div',{staticClass:\"interfaces\"},_vm._l((group.interfaces),function(ext){return _c('article',{key:group.title + '-' + ext.id,staticClass:\"interface\",class:{ active: _vm.interfaceName === ext.id },on:{\"click\":function($event){return _vm.setInterface(ext.id)}}},[_c('div',{staticClass:\"header\"},[_c('v-icon',{attrs:{\"name\":ext.icon || 'category',\"x-large\":\"\",\"color\":\"--white\"}})],1),_c('div',{staticClass:\"body\"},[_c('h2',[_vm._v(_vm._s(ext.name))]),_c('p',[_vm._v(_vm._s(_vm.interfaceSubtitles(ext)))])])])}),0)])}),1):_vm._e(),_c('div',[_c('div',{staticClass:\"interfaces\"},_vm._l((_vm.interfacesFiltered),function(ext){return _c('article',{key:'all-' + ext.id,staticClass:\"interface\",class:{ active: _vm.interfaceName === ext.id },on:{\"click\":function($event){return _vm.setInterface(ext.id)}}},[_c('div',{staticClass:\"header\"},[_c('v-icon',{attrs:{\"name\":ext.icon || 'category',\"x-large\":\"\",\"color\":\"--white\"}})],1),_c('div',{staticClass:\"body\"},[_c('h2',[_vm._v(_vm._s(ext.name))]),_c('p',[_vm._v(_vm._s(_vm.interfaceSubtitles(ext)))])])])}),0)])],1),(_vm.interfaceName)?_c('template',{slot:\"schema\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_schema'))+\" \")]):_vm._e(),_c('form',{staticClass:\"schema\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"name\"},[_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('name')))]),_c('v-icon',{staticClass:\"required\",attrs:{\"name\":\"star\",\"color\":\"input-required-color\",\"sup\":\"\"}}),_c('v-input',{staticClass:\"name-input\",attrs:{\"autofocus\":\"\",\"type\":\"text\",\"placeholder\":_vm.$t('db_column_name'),\"disabled\":_vm.existing,\"icon-right\":_vm.iconToShow.icon,\"icon-right-color\":_vm.iconToShow.color,\"icon-right-tooltip\":_vm.iconToShow.tooltip,\"value\":_vm.field},on:{\"input\":function($event){_vm.field = _vm.slug($event, { replacement: '_', lower: true }).trim()}}}),_c('p',{staticClass:\"type-note\"},[_vm._v(\" \"+_vm._s(_vm.$t('display_name'))+\": \"),_c('b',[_vm._v(_vm._s(_vm.$helpers.formatTitle(_vm.field || '...')))])])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('default_value')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":\"NULL\",\"disabled\":_vm.type === 'o2m' || _vm.type === 'translation'},model:{value:(_vm.default_value),callback:function ($$v) {_vm.default_value=$$v},expression:\"default_value\"}})],1)]),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('note')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('add_note')},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1),_c('div',{staticClass:\"toggles\"},[_c('v-switch',{attrs:{\"disabled\":_vm.fieldInfo.primary_key || _vm.type === 'alias',\"label\":_vm.$t('required')},model:{value:(_vm.required),callback:function ($$v) {_vm.required=$$v},expression:\"required\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('readonly')},model:{value:(_vm.readonly),callback:function ($$v) {_vm.readonly=$$v},expression:\"readonly\"}})],1),_c('details',{staticClass:\"advanced\",attrs:{\"open\":_vm.existing}},[_c('summary',[_vm._v(_vm._s(_vm.$t('advanced_options')))]),_c('div',{staticClass:\"advanced-form\"},[_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('field_type')))]),_c('v-simple-select',{model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.availableFieldTypes),function(typeOption){return _c('option',{key:typeOption,domProps:{\"value\":typeOption,\"selected\":_vm.type === typeOption}},[_vm._v(\" \"+_vm._s(_vm.$helpers.formatTitle(typeOption))+\" \")])}),0),_c('small',{staticClass:\"type-note\"},[_vm._v(_vm._s(_vm.fieldTypeDescription))])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('db_datatype', { db: _vm.$helpers.formatTitle(_vm.databaseVendor) }))+\" \")]),_c('v-simple-select',{model:{value:(_vm.datatype),callback:function ($$v) {_vm.datatype=$$v},expression:\"datatype\"}},_vm._l((_vm.availableDatatypes),function(typeOption){return _c('option',{key:typeOption,domProps:{\"value\":typeOption,\"selected\":_vm.datatype === typeOption}},[_vm._v(\" \"+_vm._s(typeOption)+\" \")])}),0),_c('small',{staticClass:\"type-note\"},[_vm._v(\" \"+_vm._s(_vm.selectedDatatypeInfo && _vm.$t(_vm.selectedDatatypeInfo.description))+\" \")])],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('length')))]),_c('v-input',{attrs:{\"type\":_vm.selectedDatatypeInfo && _vm.selectedDatatypeInfo.decimal\n\t\t\t\t\t\t\t\t\t? 'string'\n\t\t\t\t\t\t\t\t\t: 'number',\"value\":_vm.lengthDisabled ? null : _vm.length,\"disabled\":_vm.lengthDisabled,\"placeholder\":_vm.lengthDisabled ? _vm.$t('length_disabled_placeholder') : ''},on:{\"input\":function($event){_vm.length = $event}}})],1),_c('label',[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('validation')))]),_c('v-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('regex')},model:{value:(_vm.validation),callback:function ($$v) {_vm.validation=$$v},expression:\"validation\"}})],1),_c('v-switch',{attrs:{\"disabled\":_vm.primaryKeyDisabled,\"label\":_vm.$t('primary_key')},model:{value:(_vm.primary_key),callback:function ($$v) {_vm.primary_key=$$v},expression:\"primary_key\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('unique')},model:{value:(_vm.unique),callback:function ($$v) {_vm.unique=$$v},expression:\"unique\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('hidden_detail')},model:{value:(_vm.hidden_detail),callback:function ($$v) {_vm.hidden_detail=$$v},expression:\"hidden_detail\"}}),_c('v-switch',{attrs:{\"label\":_vm.$t('hidden_browse')},model:{value:(_vm.hidden_browse),callback:function ($$v) {_vm.hidden_browse=$$v},expression:\"hidden_browse\"}}),(_vm.isNumeric)?_c('v-switch',{attrs:{\"label\":_vm.$t('signed')},model:{value:(_vm.signed),callback:function ($$v) {_vm.signed=$$v},expression:\"signed\"}}):_vm._e(),_c('label',{staticClass:\"translation\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('translation')))]),_c('v-ext-input',{attrs:{\"id\":\"repeater\",\"name\":\"translation\",\"type\":\"json\",\"width\":\"full\",\"options\":{\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'locale',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tinterface: 'language',\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\tlimit: true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfield: 'translation',\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tinterface: 'text-input',\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: _vm.$t('translated_field_name')\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\twidth: 'half'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}},model:{value:(_vm.translation),callback:function ($$v) {_vm.translation=$$v},expression:\"translation\"}})],1)],1)])])]):_vm._e(),(_vm.selectedInterfaceInfo && _vm.relation)?_c('template',{slot:\"relation\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_relation'))+\" \")]):_vm._e(),(_vm.relation === 'm2o')?_c('form',{staticClass:\"single\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.relationInfo.collection_many,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.relationInfo.field_many,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.field}},[_vm._v(_vm._s(_vm.field))])]),_c('v-icon',{attrs:{\"name\":\"arrow_backward\"}}),_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.collection_one),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"collection_one\", $$v)},expression:\"relationInfo.collection_one\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyFieldByCollection(_vm.relationInfo.collection_one).field)+\" \")])])],1):_vm._e(),(_vm.relation === 'o2m')?_c('form',{staticClass:\"single\"},[_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.collectionInfo.collection,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyField.field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyField.field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyField.field)+\" \")])]),_c('v-icon',{attrs:{\"name\":\"arrow_forward\"}}),_c('span',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.collection_many),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"collection_many\", $$v)},expression:\"relationInfo.collection_many\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfo.field_many),callback:function ($$v) {_vm.$set(_vm.relationInfo, \"field_many\", $$v)},expression:\"relationInfo.field_many\"}},_vm._l((_vm.fieldsNonSystem(_vm.relationInfo.collection_many)),function(ref){\n\t\t\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0)],1):_vm._e(),(_vm.relation === 'm2m')?_c('form',{staticClass:\"full\"},[_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('this_collection')))]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.collectionInfo.collection,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.collectionInfo.collection}},[_vm._v(\" \"+_vm._s(_vm.collectionInfo.collection)+\" \")])]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyField.field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyField.field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyField.field)+\" \")])]),_c('v-icon',{attrs:{\"name\":\"arrow_forward\"}}),_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('junction_collection')))]),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.junctionNameM2M),callback:function ($$v) {_vm.junctionNameM2M=$$v},expression:\"junctionNameM2M\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(\n\t\t\t\t\t\t_vm.collectionInfo.collection,\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one\n\t\t\t\t\t)},model:{value:(_vm.junctionNameM2M),callback:function ($$v) {_vm.junctionNameM2M=$$v},expression:\"junctionNameM2M\"}}):_vm._e(),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex].field_many\"}},_vm._l((_vm.fields(_vm.relationInfoM2M[0].collection_many)),function(ref){\n\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(_vm.collectionInfo.collection, 'id')},model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex].field_many\"}}):_vm._e(),(!_vm.createM2Mjunction)?_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"}},_vm._l((_vm.fields(_vm.relationInfoM2M[0].collection_many)),function(ref){\n\t\t\t\t\tvar field = ref.field;\nreturn _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(\" \"+_vm._s(field)+\" \")])}),0):_vm._e(),(_vm.createM2Mjunction)?_c('v-input',{staticClass:\"select\",attrs:{\"type\":\"text\",\"placeholder\":_vm.autoM2Msuggestion(\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one,\n\t\t\t\t\t\t'id'\n\t\t\t\t\t)},model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].field_many),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0], \"field_many\", $$v)},expression:\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"}}):_vm._e(),(!_vm.existing)?_c('v-checkbox',{attrs:{\"id\":\"createM2Mjunction\",\"value\":\"m2mjunction\",\"label\":_vm.$t('auto_generate')},model:{value:(_vm.createM2Mjunction),callback:function ($$v) {_vm.createM2Mjunction=$$v},expression:\"createM2Mjunction\"}}):_vm._e(),_c('v-icon',{attrs:{\"name\":\"arrow_backward\"}}),_c('p',{staticClass:\"type-label\"},[_vm._v(_vm._s(_vm.$t('related_collection')))]),_c('v-simple-select',{staticClass:\"select\",model:{value:(_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0].collection_one),callback:function ($$v) {_vm.$set(_vm.relationInfoM2M[_vm.currentM2MIndex == 0 ? 1 : 0], \"collection_one\", $$v)},expression:\"relationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\"}},[_c('optgroup',{attrs:{\"label\":_vm.$tc('collection', 2)}},_vm._l((_vm.collectionsGrouped.user),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0),_c('optgroup',{attrs:{\"label\":\"Directus\"}},_vm._l((_vm.collectionsGrouped.system),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection}},[_vm._v(\" \"+_vm._s(collection)+\" \")])}),0)]),_c('v-simple-select',{staticClass:\"select\",attrs:{\"value\":_vm.primaryKeyFieldByCollection(\n\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t).field,\"disabled\":\"\"}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.primaryKeyFieldByCollection(\n\t\t\t\t\t\t\t_vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one\n\t\t\t\t\t\t).field}},[_vm._v(\" \"+_vm._s(_vm.primaryKeyFieldByCollection( _vm.relationInfoM2M[_vm.currentM2MIndex === 0 ? 1 : 0].collection_one ).field)+\" \")])])],1):_vm._e()]):_vm._e(),_c('template',{slot:\"options\"},[(!_vm.existing)?_c('h1',{staticClass:\"type-heading-medium\"},[_vm._v(\" \"+_vm._s(_vm.$t('field_setup_options'))+\" \")]):_vm._e(),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"__width\"}},[_vm._v(_vm._s(_vm.$t('field_width')))]),_c('v-simple-select',{attrs:{\"name\":\"__width\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}},[_c('option',{attrs:{\"value\":\"half\"}},[_vm._v(_vm._s(_vm.$t('field_width_half')))]),_c('option',{attrs:{\"value\":\"half-left\"}},[_vm._v(_vm._s(_vm.$t('field_width_left')))]),_c('option',{attrs:{\"value\":\"half-right\"}},[_vm._v(_vm._s(_vm.$t('field_width_right')))]),_c('option',{attrs:{\"value\":\"full\"}},[_vm._v(_vm._s(_vm.$t('field_width_full')))]),_c('option',{attrs:{\"value\":\"fill\"}},[_vm._v(_vm._s(_vm.$t('field_width_fill')))])]),_c('p',{staticClass:\"note type-note\"},[_vm._v(_vm._s(_vm.$t('field_width_note')))]),(_vm.selectedInterfaceInfo)?_c('form',{staticClass:\"options\",on:{\"submit\":function($event){$event.preventDefault();}}},[_vm._l((_vm.interfaceOptions.regular),function(option,optionID){return _c('div',{key:optionID,staticClass:\"options\"},[_c('label',{staticClass:\"type-label\",attrs:{\"for\":optionID}},[_vm._v(_vm._s(option.name))]),_c('v-ext-input',{attrs:{\"id\":option.interface,\"name\":optionID,\"type\":option.type,\"length\":option.length,\"readonly\":option.readonly,\"required\":option.required,\"loading\":option.loading,\"options\":option.options,\"value\":_vm.options[optionID],\"fields\":_vm.selectedInterfaceInfo.options,\"values\":_vm.options},on:{\"input\":function($event){return _vm.$set(_vm.options, optionID, $event)}}}),_c('p',{staticClass:\"note type-note\",domProps:{\"innerHTML\":_vm._s(_vm.$helpers.snarkdown(option.comment || ''))}})],1)}),(Object.keys(_vm.interfaceOptions.advanced).length > 0)?_c('details',{staticClass:\"advanced\",attrs:{\"open\":_vm.existing}},[_c('summary',[_vm._v(_vm._s(_vm.$t('advanced_options')))]),_vm._l((_vm.interfaceOptions.advanced),function(option,optionID){return _c('div',{key:optionID,staticClass:\"options\"},[_c('label',{staticClass:\"type-label\",attrs:{\"for\":optionID}},[_vm._v(_vm._s(option.name))]),_c('v-ext-input',{attrs:{\"id\":option.interface,\"name\":optionID,\"type\":option.type,\"length\":option.length,\"readonly\":option.readonly,\"required\":option.required,\"loading\":option.loading,\"options\":option.options,\"value\":_vm.options[optionID] || option.default,\"fields\":_vm.selectedInterfaceInfo.options,\"values\":_vm.options},on:{\"input\":function($event){return _vm.$set(_vm.options, optionID, $event)}}}),_c('p',{staticClass:\"note type-note\",domProps:{\"innerHTML\":_vm._s(_vm.$helpers.snarkdown(option.comment || ''))}})],1)})],2):_vm._e()],2):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-modal\r\n\t\t:title=\"existing ? $t('update_field') + ': ' + displayName : $t('create_field')\"\r\n\t\t:tabs=\"tabs\"\r\n\t\t:active-tab=\"activeTab\"\r\n\t\t:buttons=\"buttons\"\r\n\t\t@tab=\"activeTab = $event\"\r\n\t\t@next=\"nextTab\"\r\n\t\t@close=\"$emit('close')\"\r\n\t>\r\n\t\t<template slot=\"interface\">\r\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\r\n\t\t\t\t{{ $t('field_setup_interface') }}\r\n\t\t\t</h1>\r\n\t\t\t<v-notice v-if=\"interfaceName\" color=\"gray\" class=\"currently-selected\">\r\n\t\t\t\t{{ $t('currently_selected', { thing: interfaces[interfaceName].name }) }}\r\n\t\t\t</v-notice>\r\n\t\t\t<v-input\r\n\t\t\t\tv-else\r\n\t\t\t\tv-model=\"interfaceFilter\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Find an interface...\"\r\n\t\t\t\tclass=\"interface-filter\"\r\n\t\t\t\ticon-left=\"search\"\r\n\t\t\t\tautofocus\r\n\t\t\t/>\r\n\t\t\t<div v-if=\"!interfaceFilter\">\r\n\t\t\t\t<v-details\r\n\t\t\t\t\tv-for=\"group in interfacesPopular\"\r\n\t\t\t\t\t:key=\"group.title\"\r\n\t\t\t\t\t:title=\"group.title\"\r\n\t\t\t\t\t:open=\"true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"interfaces\">\r\n\t\t\t\t\t\t<article\r\n\t\t\t\t\t\t\tv-for=\"ext in group.interfaces\"\r\n\t\t\t\t\t\t\t:key=\"group.title + '-' + ext.id\"\r\n\t\t\t\t\t\t\t:class=\"{ active: interfaceName === ext.id }\"\r\n\t\t\t\t\t\t\tclass=\"interface\"\r\n\t\t\t\t\t\t\t@click=\"setInterface(ext.id)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t\t\t\t<v-icon :name=\"ext.icon || 'category'\" x-large color=\"--white\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"body\">\r\n\t\t\t\t\t\t\t\t<h2>{{ ext.name }}</h2>\r\n\t\t\t\t\t\t\t\t<p>{{ interfaceSubtitles(ext) }}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</article>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</v-details>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"interfaces\">\r\n\t\t\t\t\t<article\r\n\t\t\t\t\t\tv-for=\"ext in interfacesFiltered\"\r\n\t\t\t\t\t\t:key=\"'all-' + ext.id\"\r\n\t\t\t\t\t\t:class=\"{ active: interfaceName === ext.id }\"\r\n\t\t\t\t\t\tclass=\"interface\"\r\n\t\t\t\t\t\t@click=\"setInterface(ext.id)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t\t\t<v-icon :name=\"ext.icon || 'category'\" x-large color=\"--white\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"body\">\r\n\t\t\t\t\t\t\t<h2>{{ ext.name }}</h2>\r\n\t\t\t\t\t\t\t<p>{{ interfaceSubtitles(ext) }}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\r\n\t\t<template v-if=\"interfaceName\" slot=\"schema\">\r\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\r\n\t\t\t\t{{ $t('field_setup_schema') }}\r\n\t\t\t</h1>\r\n\t\t\t<form class=\"schema\" @submit.prevent>\r\n\t\t\t\t<div class=\"name\">\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<span class=\"type-label\">{{ $t('name') }}</span>\r\n\t\t\t\t\t\t<v-icon class=\"required\" name=\"star\" color=\"input-required-color\" sup />\r\n\t\t\t\t\t\t<v-input\r\n\t\t\t\t\t\t\tautofocus\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t:placeholder=\"$t('db_column_name')\"\r\n\t\t\t\t\t\t\tclass=\"name-input\"\r\n\t\t\t\t\t\t\t:disabled=\"existing\"\r\n\t\t\t\t\t\t\t:icon-right=\"iconToShow.icon\"\r\n\t\t\t\t\t\t\t:icon-right-color=\"iconToShow.color\"\r\n\t\t\t\t\t\t\t:icon-right-tooltip=\"iconToShow.tooltip\"\r\n\t\t\t\t\t\t\t:value=\"field\"\r\n\t\t\t\t\t\t\t@input=\"field = slug($event, { replacement: '_', lower: true }).trim()\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p class=\"type-note\">\r\n\t\t\t\t\t\t\t{{ $t('display_name') }}:\r\n\t\t\t\t\t\t\t<b>{{ $helpers.formatTitle(field || '...') }}</b>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<span class=\"type-label\">{{ $t('default_value') }}</span>\r\n\t\t\t\t\t\t<v-input\r\n\t\t\t\t\t\t\tv-model=\"default_value\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"NULL\"\r\n\t\t\t\t\t\t\t:disabled=\"type === 'o2m' || type === 'translation'\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<span class=\"type-label\">{{ $t('note') }}</span>\r\n\t\t\t\t\t<v-input v-model=\"note\" type=\"text\" :placeholder=\"$t('add_note')\" />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<div class=\"toggles\">\r\n\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\tv-model=\"required\"\r\n\t\t\t\t\t\t:disabled=\"fieldInfo.primary_key || type === 'alias'\"\r\n\t\t\t\t\t\t:label=\"$t('required')\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<v-switch v-model=\"readonly\" :label=\"$t('readonly')\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<details class=\"advanced\" :open=\"existing\">\r\n\t\t\t\t\t<summary>{{ $t('advanced_options') }}</summary>\r\n\t\t\t\t\t<div class=\"advanced-form\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('field_type') }}</span>\r\n\t\t\t\t\t\t\t<v-simple-select v-model=\"type\">\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tv-for=\"typeOption in availableFieldTypes\"\r\n\t\t\t\t\t\t\t\t\t:key=\"typeOption\"\r\n\t\t\t\t\t\t\t\t\t:value=\"typeOption\"\r\n\t\t\t\t\t\t\t\t\t:selected=\"type === typeOption\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ $helpers.formatTitle(typeOption) }}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t</v-simple-select>\r\n\t\t\t\t\t\t\t<small class=\"type-note\">{{ fieldTypeDescription }}</small>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<span class=\"type-label\">\r\n\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t$t('db_datatype', {\r\n\t\t\t\t\t\t\t\t\t\tdb: $helpers.formatTitle(databaseVendor)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<v-simple-select v-model=\"datatype\">\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tv-for=\"typeOption in availableDatatypes\"\r\n\t\t\t\t\t\t\t\t\t:key=\"typeOption\"\r\n\t\t\t\t\t\t\t\t\t:value=\"typeOption\"\r\n\t\t\t\t\t\t\t\t\t:selected=\"datatype === typeOption\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ typeOption }}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t</v-simple-select>\r\n\t\t\t\t\t\t\t<small class=\"type-note\">\r\n\t\t\t\t\t\t\t\t{{ selectedDatatypeInfo && $t(selectedDatatypeInfo.description) }}\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('length') }}</span>\r\n\t\t\t\t\t\t\t<v-input\r\n\t\t\t\t\t\t\t\t:type=\"\r\n\t\t\t\t\t\t\t\t\tselectedDatatypeInfo && selectedDatatypeInfo.decimal\r\n\t\t\t\t\t\t\t\t\t\t? 'string'\r\n\t\t\t\t\t\t\t\t\t\t: 'number'\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t:value=\"lengthDisabled ? null : length\"\r\n\t\t\t\t\t\t\t\t:disabled=\"lengthDisabled\"\r\n\t\t\t\t\t\t\t\t:placeholder=\"\r\n\t\t\t\t\t\t\t\t\tlengthDisabled ? $t('length_disabled_placeholder') : ''\r\n\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t@input=\"length = $event\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('validation') }}</span>\r\n\t\t\t\t\t\t\t<v-input v-model=\"validation\" type=\"text\" :placeholder=\"$t('regex')\" />\r\n\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t\tv-model=\"primary_key\"\r\n\t\t\t\t\t\t\t:disabled=\"primaryKeyDisabled\"\r\n\t\t\t\t\t\t\t:label=\"$t('primary_key')\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<v-switch v-model=\"unique\" :label=\"$t('unique')\" />\r\n\t\t\t\t\t\t<v-switch v-model=\"hidden_detail\" :label=\"$t('hidden_detail')\" />\r\n\t\t\t\t\t\t<v-switch v-model=\"hidden_browse\" :label=\"$t('hidden_browse')\" />\r\n\t\t\t\t\t\t<v-switch v-if=\"isNumeric\" v-model=\"signed\" :label=\"$t('signed')\" />\r\n\r\n\t\t\t\t\t\t<label class=\"translation\">\r\n\t\t\t\t\t\t\t<span class=\"type-label\">{{ $t('translation') }}</span>\r\n\t\t\t\t\t\t\t<v-ext-input\r\n\t\t\t\t\t\t\t\tid=\"repeater\"\r\n\t\t\t\t\t\t\t\tv-model=\"translation\"\r\n\t\t\t\t\t\t\t\tname=\"translation\"\r\n\t\t\t\t\t\t\t\ttype=\"json\"\r\n\t\t\t\t\t\t\t\twidth=\"full\"\r\n\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfield: 'locale',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\tinterface: 'language',\r\n\t\t\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlimit: true\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'half'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfield: 'translation',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\t\t\t\t\tinterface: 'text-input',\r\n\t\t\t\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: $t('translated_field_name')\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'half'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</details>\r\n\t\t\t</form>\r\n\t\t</template>\r\n\r\n\t\t<template v-if=\"selectedInterfaceInfo && relation\" slot=\"relation\">\r\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\r\n\t\t\t\t{{ $t('field_setup_relation') }}\r\n\t\t\t</h1>\r\n\r\n\t\t\t<form v-if=\"relation === 'm2o'\" class=\"single\">\r\n\t\t\t\t<span class=\"type-label\">{{ $t('this_collection') }}</span>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"relationInfo.collection_many\" disabled>\r\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\r\n\t\t\t\t\t\t{{ collectionInfo.collection }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"relationInfo.field_many\" disabled>\r\n\t\t\t\t\t<option selected :value=\"field\">{{ field }}</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-icon name=\"arrow_backward\" />\r\n\r\n\t\t\t\t<span class=\"type-label\">{{ $t('related_collection') }}</span>\r\n\r\n\t\t\t\t<v-simple-select v-model=\"relationInfo.collection_one\" class=\"select\">\r\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t\t<optgroup label=\"Directus\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t\t:value=\"primaryKeyFieldByCollection(relationInfo.collection_one).field\"\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t>\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tselected\r\n\t\t\t\t\t\t:value=\"primaryKeyFieldByCollection(relationInfo.collection_one).field\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ primaryKeyFieldByCollection(relationInfo.collection_one).field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\t\t\t</form>\r\n\r\n\t\t\t<form v-if=\"relation === 'o2m'\" class=\"single\">\r\n\t\t\t\t<span class=\"type-label\">{{ $t('this_collection') }}</span>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"collectionInfo.collection\" disabled>\r\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\r\n\t\t\t\t\t\t{{ collectionInfo.collection }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"primaryKeyField.field\" disabled>\r\n\t\t\t\t\t<option selected :value=\"primaryKeyField.field\">\r\n\t\t\t\t\t\t{{ primaryKeyField.field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-icon name=\"arrow_forward\" />\r\n\r\n\t\t\t\t<span class=\"type-label\">{{ $t('related_collection') }}</span>\r\n\r\n\t\t\t\t<v-simple-select v-model=\"relationInfo.collection_many\" class=\"select\">\r\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t\t<optgroup label=\"Directus\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select v-model=\"relationInfo.field_many\" class=\"select\">\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tv-for=\"{ field } in fieldsNonSystem(relationInfo.collection_many)\"\r\n\t\t\t\t\t\t:key=\"field\"\r\n\t\t\t\t\t\t:value=\"field\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\t\t\t</form>\r\n\r\n\t\t\t<form v-if=\"relation === 'm2m'\" class=\"full\">\r\n\t\t\t\t<p class=\"type-label\">{{ $t('this_collection') }}</p>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"collectionInfo.collection\" disabled>\r\n\t\t\t\t\t<option selected :value=\"collectionInfo.collection\">\r\n\t\t\t\t\t\t{{ collectionInfo.collection }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select class=\"select\" :value=\"primaryKeyField.field\" disabled>\r\n\t\t\t\t\t<option selected :value=\"primaryKeyField.field\">\r\n\t\t\t\t\t\t{{ primaryKeyField.field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-icon name=\"arrow_forward\" />\r\n\r\n\t\t\t\t<p class=\"type-label\">{{ $t('junction_collection') }}</p>\r\n\r\n\t\t\t\t<v-simple-select v-if=\"!createM2Mjunction\" v-model=\"junctionNameM2M\" class=\"select\">\r\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t\t<optgroup label=\"Directus\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-input\r\n\t\t\t\t\tv-if=\"createM2Mjunction\"\r\n\t\t\t\t\tv-model=\"junctionNameM2M\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t:placeholder=\"\r\n\t\t\t\t\t\tautoM2Msuggestion(\r\n\t\t\t\t\t\t\tcollectionInfo.collection,\r\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<v-simple-select\r\n\t\t\t\t\tv-if=\"!createM2Mjunction\"\r\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex].field_many\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tv-for=\"{ field } in fields(relationInfoM2M[0].collection_many)\"\r\n\t\t\t\t\t\t:key=\"field\"\r\n\t\t\t\t\t\t:value=\"field\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-input\r\n\t\t\t\t\tv-if=\"createM2Mjunction\"\r\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex].field_many\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t:placeholder=\"autoM2Msuggestion(collectionInfo.collection, 'id')\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<v-simple-select\r\n\t\t\t\t\tv-if=\"!createM2Mjunction\"\r\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tv-for=\"{ field } in fields(relationInfoM2M[0].collection_many)\"\r\n\t\t\t\t\t\t:key=\"field\"\r\n\t\t\t\t\t\t:value=\"field\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ field }}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-input\r\n\t\t\t\t\tv-if=\"createM2Mjunction\"\r\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t:placeholder=\"\r\n\t\t\t\t\t\tautoM2Msuggestion(\r\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one,\r\n\t\t\t\t\t\t\t'id'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<v-checkbox\r\n\t\t\t\t\tv-if=\"!existing\"\r\n\t\t\t\t\tid=\"createM2Mjunction\"\r\n\t\t\t\t\tvalue=\"m2mjunction\"\r\n\t\t\t\t\t:label=\"$t('auto_generate')\"\r\n\t\t\t\t\tv-model=\"createM2Mjunction\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<v-icon name=\"arrow_backward\" />\r\n\r\n\t\t\t\t<p class=\"type-label\">{{ $t('related_collection') }}</p>\r\n\r\n\t\t\t\t<v-simple-select\r\n\t\t\t\t\tv-model=\"relationInfoM2M[currentM2MIndex == 0 ? 1 : 0].collection_one\"\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<optgroup :label=\"$tc('collection', 2)\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.user\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t\t<optgroup label=\"Directus\">\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in collectionsGrouped.system\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ collection }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</optgroup>\r\n\t\t\t\t</v-simple-select>\r\n\r\n\t\t\t\t<v-simple-select\r\n\t\t\t\t\tclass=\"select\"\r\n\t\t\t\t\t:value=\"\r\n\t\t\t\t\t\tprimaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\r\n\t\t\t\t\t\t).field\r\n\t\t\t\t\t\"\r\n\t\t\t\t\tdisabled\r\n\t\t\t\t>\r\n\t\t\t\t\t<option\r\n\t\t\t\t\t\tselected\r\n\t\t\t\t\t\t:value=\"\r\n\t\t\t\t\t\t\tprimaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\r\n\t\t\t\t\t\t\t).field\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\tprimaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\t\trelationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one\r\n\t\t\t\t\t\t\t).field\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t</v-simple-select>\r\n\t\t\t</form>\r\n\t\t</template>\r\n\r\n\t\t<template slot=\"options\">\r\n\t\t\t<h1 v-if=\"!existing\" class=\"type-heading-medium\">\r\n\t\t\t\t{{ $t('field_setup_options') }}\r\n\t\t\t</h1>\r\n\r\n\t\t\t<label for=\"__width\" class=\"type-label\">{{ $t('field_width') }}</label>\r\n\t\t\t<v-simple-select v-model=\"width\" name=\"__width\">\r\n\t\t\t\t<option value=\"half\">{{ $t('field_width_half') }}</option>\r\n\t\t\t\t<option value=\"half-left\">{{ $t('field_width_left') }}</option>\r\n\t\t\t\t<option value=\"half-right\">{{ $t('field_width_right') }}</option>\r\n\t\t\t\t<option value=\"full\">{{ $t('field_width_full') }}</option>\r\n\t\t\t\t<option value=\"fill\">{{ $t('field_width_fill') }}</option>\r\n\t\t\t</v-simple-select>\r\n\t\t\t<p class=\"note type-note\">{{ $t('field_width_note') }}</p>\r\n\r\n\t\t\t<form v-if=\"selectedInterfaceInfo\" class=\"options\" @submit.prevent>\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-for=\"(option, optionID) in interfaceOptions.regular\"\r\n\t\t\t\t\t:key=\"optionID\"\r\n\t\t\t\t\tclass=\"options\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<label :for=\"optionID\" class=\"type-label\">{{ option.name }}</label>\r\n\t\t\t\t\t<v-ext-input\r\n\t\t\t\t\t\t:id=\"option.interface\"\r\n\t\t\t\t\t\t:name=\"optionID\"\r\n\t\t\t\t\t\t:type=\"option.type\"\r\n\t\t\t\t\t\t:length=\"option.length\"\r\n\t\t\t\t\t\t:readonly=\"option.readonly\"\r\n\t\t\t\t\t\t:required=\"option.required\"\r\n\t\t\t\t\t\t:loading=\"option.loading\"\r\n\t\t\t\t\t\t:options=\"option.options\"\r\n\t\t\t\t\t\t:value=\"options[optionID]\"\r\n\t\t\t\t\t\t:fields=\"selectedInterfaceInfo.options\"\r\n\t\t\t\t\t\t:values=\"options\"\r\n\t\t\t\t\t\t@input=\"$set(options, optionID, $event)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p class=\"note type-note\" v-html=\"$helpers.snarkdown(option.comment || '')\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<details\r\n\t\t\t\t\tv-if=\"Object.keys(interfaceOptions.advanced).length > 0\"\r\n\t\t\t\t\tclass=\"advanced\"\r\n\t\t\t\t\t:open=\"existing\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<summary>{{ $t('advanced_options') }}</summary>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-for=\"(option, optionID) in interfaceOptions.advanced\"\r\n\t\t\t\t\t\t:key=\"optionID\"\r\n\t\t\t\t\t\tclass=\"options\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<label :for=\"optionID\" class=\"type-label\">{{ option.name }}</label>\r\n\t\t\t\t\t\t<v-ext-input\r\n\t\t\t\t\t\t\t:id=\"option.interface\"\r\n\t\t\t\t\t\t\t:name=\"optionID\"\r\n\t\t\t\t\t\t\t:type=\"option.type\"\r\n\t\t\t\t\t\t\t:length=\"option.length\"\r\n\t\t\t\t\t\t\t:readonly=\"option.readonly\"\r\n\t\t\t\t\t\t\t:required=\"option.required\"\r\n\t\t\t\t\t\t\t:loading=\"option.loading\"\r\n\t\t\t\t\t\t\t:options=\"option.options\"\r\n\t\t\t\t\t\t\t:value=\"options[optionID] || option.default\"\r\n\t\t\t\t\t\t\t:fields=\"selectedInterfaceInfo.options\"\r\n\t\t\t\t\t\t\t:values=\"options\"\r\n\t\t\t\t\t\t\t@input=\"$set(options, optionID, $event)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclass=\"note type-note\"\r\n\t\t\t\t\t\t\tv-html=\"$helpers.snarkdown(option.comment || '')\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</details>\r\n\t\t\t</form>\r\n\t\t</template>\r\n\t</v-modal>\r\n</template>\r\n\r\n<script>\r\nimport formatTitle from '@directus/format-title';\r\nimport mapping, { datatypes } from '../type-map';\r\nimport { defaultFull } from '../store/modules/permissions/defaults';\r\nimport slug from 'slug';\r\nimport { cloneDeep, pickBy, find, findIndex, forEach } from 'lodash';\r\n\r\nexport default {\r\n\tname: 'VFieldSetup',\r\n\tprops: {\r\n\t\tcollectionInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tfieldInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsaving: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tactiveTab: 'interface',\r\n\t\t\tid: null,\r\n\t\t\tsort: null,\r\n\r\n\t\t\tfield: null,\r\n\t\t\tisFieldValid: null,\r\n\t\t\tdatatype: null,\r\n\t\t\ttype: null,\r\n\t\t\tinterfaceName: null,\r\n\t\t\tinterfaceFilter: null,\r\n\t\t\toptions: {},\r\n\t\t\ttranslation: {},\r\n\t\t\treadonly: false,\r\n\t\t\trequired: false,\r\n\t\t\tunique: false,\r\n\t\t\tnote: null,\r\n\t\t\thidden_detail: false,\r\n\t\t\thidden_browse: false,\r\n\t\t\tprimary_key: false,\r\n\t\t\tsigned: true,\r\n\t\t\twidth: 'full',\r\n\r\n\t\t\tlength: null,\r\n\t\t\tdefault_value: null,\r\n\t\t\tvalidation: null,\r\n\r\n\t\t\trelationInfo: {\r\n\t\t\t\tid: null,\r\n\t\t\t\tcollection_many: null,\r\n\t\t\t\tfield_many: null,\r\n\r\n\t\t\t\tcollection_one: null,\r\n\t\t\t\tfield_one: null\r\n\t\t\t},\r\n\r\n\t\t\trelationInfoM2M: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tcollection_many: null,\r\n\t\t\t\t\tfield_many: null,\r\n\r\n\t\t\t\t\tcollection_one: null,\r\n\t\t\t\t\tfield_one: null,\r\n\r\n\t\t\t\t\tjunction_field: null\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tcollection_many: null,\r\n\t\t\t\t\tfield_many: null,\r\n\r\n\t\t\t\t\tcollection_one: null,\r\n\t\t\t\t\tfield_one: null,\r\n\r\n\t\t\t\t\tjunction_field: null\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tcreateM2Mjunction: false,\r\n\t\t\tjunctionNameM2M: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\ticonToShow() {\r\n\t\t\tif (!this.field || this.existing) {\r\n\t\t\t\treturn { icon: null, color: null };\r\n\t\t\t}\r\n\t\t\tif (this.isFieldValid) {\r\n\t\t\t\treturn { icon: 'done', color: 'success' };\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'error',\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t\ttooltip: this.$t('field_already_exists', { field: \"'\" + this.field + \"'\" })\r\n\t\t\t};\r\n\t\t},\r\n\t\tcollections() {\r\n\t\t\treturn cloneDeep(this.$store.state.collections);\r\n\t\t},\r\n\t\tcollectionsGrouped() {\r\n\t\t\tlet restrictedCollection = [\r\n\t\t\t\t'directus_collections',\r\n\t\t\t\t'directus_activity',\r\n\t\t\t\t'directus_fields',\r\n\t\t\t\t'directus_relations'\r\n\t\t\t];\r\n\t\t\tconst collectionNames = Object.keys(this.collections);\r\n\t\t\tconst system = collectionNames.filter(\r\n\t\t\t\tname => name.startsWith('directus_') && !restrictedCollection.includes(name)\r\n\t\t\t);\r\n\t\t\tconst user = collectionNames.filter(name => !name.startsWith('directus_'));\r\n\t\t\treturn { system, user };\r\n\t\t},\r\n\t\tinterfaces() {\r\n\t\t\treturn cloneDeep(this.$store.state.extensions.interfaces);\r\n\t\t},\r\n\t\tinterfacesPopular() {\r\n\t\t\tconst groups = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: this.$t('popular'),\r\n\t\t\t\t\tinterfaces: [\r\n\t\t\t\t\t\t'text-input',\r\n\t\t\t\t\t\t'textarea',\r\n\t\t\t\t\t\t'wysiwyg',\r\n\t\t\t\t\t\t'switch',\r\n\t\t\t\t\t\t'datetime',\r\n\t\t\t\t\t\t'calendar',\r\n\t\t\t\t\t\t'file',\r\n\t\t\t\t\t\t'many-to-one'\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t];\r\n\r\n\t\t\treturn groups.map(group => ({\r\n\t\t\t\t...group,\r\n\t\t\t\tinterfaces: group.interfaces.map(name => this.interfaces[name])\r\n\t\t\t}));\r\n\t\t},\r\n\t\tinterfacesFiltered() {\r\n\t\t\tif (!this.interfaceFilter) return this.interfaces;\r\n\t\t\treturn Object.keys(this.interfaces)\r\n\t\t\t\t.filter(interfaceName => {\r\n\t\t\t\t\treturn formatTitle(interfaceName)\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.includes(this.interfaceFilter.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t\t.map(interfaceName => ({ ...this.interfaces[interfaceName] }));\r\n\t\t},\r\n\t\tdatabaseVendor() {\r\n\t\t\treturn cloneDeep(this.$store.state.serverInfo.databaseVendor);\r\n\t\t},\r\n\t\tprimaryKeyDisabled() {\r\n\t\t\tif (!this.primaryKeyField) return false;\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tprimaryKeyTooltip() {\r\n\t\t\tif (!this.primaryKeyField) return null;\r\n\r\n\t\t\tif (this.field === this.primaryKeyField.field) {\r\n\t\t\t\treturn this.$t('cant_disable_primary');\r\n\t\t\t}\r\n\r\n\t\t\treturn this.$t('max_one_primary_key');\r\n\t\t},\r\n\t\tselectedInterfaceInfo() {\r\n\t\t\tif (!this.interfaceName) return null;\r\n\r\n\t\t\treturn Object.assign({}, this.interfaces[this.interfaceName]);\r\n\t\t},\r\n\t\tinterfaceOptions() {\r\n\t\t\tif (!this.selectedInterfaceInfo) return null;\r\n\t\t\tconst options = Object.assign({}, this.selectedInterfaceInfo.options);\r\n\t\t\tconst regular = pickBy(options, opt => !opt.advanced);\r\n\t\t\tconst advanced = pickBy(options, opt => opt.advanced === true);\r\n\r\n\t\t\treturn { regular, advanced };\r\n\t\t},\r\n\t\texisting() {\r\n\t\t\treturn this.id !== null;\r\n\t\t},\r\n\t\tschemaDisabled() {\r\n\t\t\treturn !(this.interfaceName && this.interfaceName.length > 0);\r\n\t\t},\r\n\t\toptionsDisabled() {\r\n\t\t\treturn this.schemaDisabled === true || !this.field;\r\n\t\t},\r\n\t\tdisplayName() {\r\n\t\t\tif (!this.field) return '';\r\n\t\t\treturn this.$helpers.formatTitle(this.field);\r\n\t\t},\r\n\t\tavailableFieldTypes() {\r\n\t\t\tif (!this.interfaceName) return [];\r\n\t\t\treturn (\r\n\t\t\t\t(this.interfaces[this.interfaceName] &&\r\n\t\t\t\t\tthis.interfaces[this.interfaceName].types) ||\r\n\t\t\t\t[]\r\n\t\t\t);\r\n\t\t},\r\n\t\tavailableDatatypes() {\r\n\t\t\tif (!this.type) return [];\r\n\t\t\tif (this.availableFieldTypes.length === 0) return [];\r\n\t\t\treturn mapping[this.type][this.databaseVendor].datatypes;\r\n\t\t},\r\n\t\tselectedDatatypeInfo() {\r\n\t\t\treturn datatypes[this.databaseVendor][this.datatype];\r\n\t\t},\r\n\t\tfieldTypeDescription() {\r\n\t\t\tif (!this.type) return null;\r\n\r\n\t\t\treturn mapping[this.type] && this.$t(mapping[this.type].description);\r\n\t\t},\r\n\t\tlengthDisabled() {\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length === true) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal === true) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\trelation() {\r\n\t\t\tif (!this.selectedInterfaceInfo) return null;\r\n\t\t\tif (!this.selectedInterfaceInfo.relation) return null;\r\n\r\n\t\t\tconst relationsThatDontNeedSetup = ['file', 'user'];\r\n\r\n\t\t\tlet relation;\r\n\r\n\t\t\tif (typeof this.selectedInterfaceInfo.relation === 'string') {\r\n\t\t\t\trelation = this.selectedInterfaceInfo.relation;\r\n\t\t\t} else {\r\n\t\t\t\trelation = this.selectedInterfaceInfo.relation.type;\r\n\t\t\t}\r\n\r\n\t\t\tif (relationsThatDontNeedSetup.includes(relation)) {\r\n\t\t\t\trelation = null;\r\n\t\t\t}\r\n\r\n\t\t\treturn relation;\r\n\t\t},\r\n\t\tbuttons() {\r\n\t\t\tlet disabled = false;\r\n\t\t\tif (this.activeTab === 'interface' && !this.interfaceName) {\r\n\t\t\t\tdisabled = true;\r\n\t\t\t}\r\n\t\t\tif (this.activeTab === 'schema' && !this.field) {\r\n\t\t\t\tdisabled = true;\r\n\t\t\t}\r\n\t\t\tif (this.fieldValid && !this.existing) {\r\n\t\t\t\tdisabled = true;\r\n\t\t\t}\r\n\r\n\t\t\tlet text = this.$t('next');\r\n\r\n\t\t\tif (\r\n\t\t\t\tthis.activeTab === 'options' ||\r\n\t\t\t\t(this.activeTab === 'schema' && this.hasOptions === false) ||\r\n\t\t\t\tthis.existing\r\n\t\t\t) {\r\n\t\t\t\ttext = this.$t('save');\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tnext: {\r\n\t\t\t\t\tdisabled,\r\n\t\t\t\t\ttext,\r\n\t\t\t\t\tloading: this.saving\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\ttabs() {\r\n\t\t\tconst tabs = {\r\n\t\t\t\tinterface: {\r\n\t\t\t\t\ttext: this.$tc('interface', 1)\r\n\t\t\t\t},\r\n\t\t\t\tschema: {\r\n\t\t\t\t\ttext: this.$t('schema'),\r\n\t\t\t\t\tdisabled: !(this.interfaceName && this.interfaceName.length > 0)\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (this.relation) {\r\n\t\t\t\ttabs.relation = {\r\n\t\t\t\t\ttext: this.$t('relation'),\r\n\t\t\t\t\tdisabled: this.schemaDisabled === true || !this.field\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\ttabs.options = {\r\n\t\t\t\ttext: this.$t('options'),\r\n\t\t\t\tdisabled: this.schemaDisabled === true || !this.field\r\n\t\t\t};\r\n\r\n\t\t\treturn tabs;\r\n\t\t},\r\n\t\thasOptions() {\r\n\t\t\tconst interfaceOptions =\r\n\t\t\t\t(this.selectedInterfaceInfo && this.selectedInterfaceInfo.options) || {};\r\n\r\n\t\t\tif (this.interfaceName && Object.keys(interfaceOptions).length > 0) return true;\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tprimaryKeyField() {\r\n\t\t\treturn find(this.collectionInfo.fields, {\r\n\t\t\t\tprimary_key: true\r\n\t\t\t});\r\n\t\t},\r\n\t\tcurrentM2MIndex() {\r\n\t\t\tconst index = findIndex(this.relationInfoM2M, info => {\r\n\t\t\t\treturn info.collection_one === this.collectionInfo.collection;\r\n\t\t\t});\r\n\r\n\t\t\tif (index === -1) return 0;\r\n\t\t\treturn index;\r\n\t\t},\r\n\t\tisNumeric() {\r\n\t\t\treturn this.type === 'integer';\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tfieldInfo() {\r\n\t\t\tthis.useFieldInfo();\r\n\t\t},\r\n\t\tinterfaceName(name, oldName) {\r\n\t\t\tif (!name) return;\r\n\r\n\t\t\tif (name !== this.fieldInfo.interface) {\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\t...this.interfaceOptions.advanced,\r\n\t\t\t\t\t...this.interfaceOptions.regular\r\n\t\t\t\t};\r\n\r\n\t\t\t\tforEach(options, (info, key) => {\r\n\t\t\t\t\tthis.$set(this.options, key, info.default);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (this.existing && oldName == null) return;\r\n\r\n\t\t\tthis.type = this.availableFieldTypes[0];\r\n\r\n\t\t\tthis.datatype = this.type ? mapping[this.type][this.databaseVendor].default : null;\r\n\r\n\t\t\tif (this.existing) return;\r\n\r\n\t\t\tif (this.selectedInterfaceInfo && this.selectedInterfaceInfo.recommended) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdefaultValue,\r\n\t\t\t\t\tlength,\r\n\t\t\t\t\tvalidation,\r\n\t\t\t\t\trequired\r\n\t\t\t\t} = this.selectedInterfaceInfo.recommended;\r\n\r\n\t\t\t\tif (defaultValue) {\r\n\t\t\t\t\tthis.default_value = defaultValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (length) {\r\n\t\t\t\t\tthis.length = length;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (validation) {\r\n\t\t\t\t\tthis.validation = validation;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (required !== undefined) {\r\n\t\t\t\t\tthis.required = required;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.initRelation();\r\n\t\t},\r\n\t\ttype(type) {\r\n\t\t\tif (this.existing) return;\r\n\r\n\t\t\tif (type) {\r\n\t\t\t\tthis.datatype = mapping[type][this.databaseVendor].default;\r\n\t\t\t\t// NOTE: this is to force string types that are longer than 255 characters into a TEXT mysql\r\n\t\t\t\t// type. This should be refactored and cleaned up when this field-setup component is getting\r\n\t\t\t\t// refactored.\r\n\t\t\t\t// Also, this is hardcoded for MySQL TEXT.\r\n\t\t\t\t// Fix for https://github.com/directus/app/issues/1149\r\n\t\t\t\tif (this.length > 255 && this.type.toLowerCase() === 'string') {\r\n\t\t\t\t\tthis.datatype = 'TEXT';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdatatype() {\r\n\t\t\tif (this.existing && this.length !== null) return;\r\n\r\n\t\t\tif (\r\n\t\t\t\tthis.selectedInterfaceInfo &&\r\n\t\t\t\tthis.selectedInterfaceInfo.recommended &&\r\n\t\t\t\tthis.selectedInterfaceInfo.recommended.length\r\n\t\t\t) {\r\n\t\t\t\tthis.length = this.selectedInterfaceInfo.recommended.length;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length) {\r\n\t\t\t\tthis.length = this.selectedDatatypeInfo.defaultLength;\r\n\r\n\t\t\t\tif (mapping[this.type][this.databaseVendor].length) {\r\n\t\t\t\t\tthis.length = mapping[this.type][this.databaseVendor].length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal) {\r\n\t\t\t\tthis.length =\r\n\t\t\t\t\tthis.selectedDatatypeInfo.defaultDigits +\r\n\t\t\t\t\t',' +\r\n\t\t\t\t\tthis.selectedDatatypeInfo.defaultDecimals;\r\n\t\t\t}\r\n\t\t},\r\n\t\tlengthDisabled(disabled) {\r\n\t\t\tif (disabled) {\r\n\t\t\t\tthis.length = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfield(val) {\r\n\t\t\tthis.isFieldValid = !Object.keys(this.collectionInfo.fields).includes(val);\r\n\r\n\t\t\tif (this.relation) {\r\n\t\t\t\tif (this.relation === 'm2o') {\r\n\t\t\t\t\tthis.relationInfo.field_many = this.field;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.relation === 'o2m') {\r\n\t\t\t\t\tthis.relationInfo.field_one = this.field;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\trelationInfoM2M: {\r\n\t\t\tdeep: true,\r\n\t\t\thandler() {\r\n\t\t\t\tif (this.createM2Mjunction) {\r\n\t\t\t\t\tvar val0 = (this.relationInfoM2M[0].field_many = this.validateFieldName(\r\n\t\t\t\t\t\tthis.relationInfoM2M[0].field_many\r\n\t\t\t\t\t));\r\n\t\t\t\t\tvar val1 = (this.relationInfoM2M[1].field_many = this.validateFieldName(\r\n\t\t\t\t\t\tthis.relationInfoM2M[1].field_many\r\n\t\t\t\t\t));\r\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = val1;\r\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = val0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = this.relationInfoM2M[1].field_many;\r\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = this.relationInfoM2M[0].field_many;\r\n\t\t\t\t}\r\n\t\t\t\tthis.relationInfoM2M[this.currentM2MIndex].field_one = this.field;\r\n\t\t\t}\r\n\t\t},\r\n\t\trelationInfo: {\r\n\t\t\tdeep: true,\r\n\t\t\thandler() {\r\n\t\t\t\tif (this.relation === 'o2m') {\r\n\t\t\t\t\tthis.getM2OID();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreateM2Mjunction(enabled) {\r\n\t\t\tif (enabled) {\r\n\t\t\t\tvar ix = this.currentM2MIndex;\r\n\t\t\t\tvar currentCollection = this.collectionInfo.collection;\r\n\t\t\t\tthis.relationInfoM2M[ix].field_one = currentCollection;\r\n\t\t\t\tthis.relationInfoM2M[ix === 0 ? 1 : 0].field_one = currentCollection;\r\n\t\t\t\tthis.junctionNameM2M = this.autoM2Msuggestion(\r\n\t\t\t\t\tcurrentCollection,\r\n\t\t\t\t\tthis.relationInfoM2M[ix == 0 ? 1 : 0].collection_one\r\n\t\t\t\t);\r\n\t\t\t\tthis.relationInfoM2M[ix].field_many = this.autoM2Msuggestion(\r\n\t\t\t\t\tcurrentCollection,\r\n\t\t\t\t\t'id'\r\n\t\t\t\t);\r\n\t\t\t\tthis.relationInfoM2M[ix === 0 ? 1 : 0].field_many = this.autoM2Msuggestion(\r\n\t\t\t\t\tthis.relationInfoM2M[ix == 0 ? 1 : 0].collection_one,\r\n\t\t\t\t\t'id'\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.initRelation();\r\n\t\t\t}\r\n\t\t},\r\n\t\tjunctionNameM2M(val) {\r\n\t\t\tif (this.createM2Mjunction) {\r\n\t\t\t\tvar formatval = this.validateFieldName(val);\r\n\t\t\t\tthis.junctionNameM2M = formatval;\r\n\t\t\t\tthis.relationInfoM2M[0].collection_many = formatval;\r\n\t\t\t\tthis.relationInfoM2M[1].collection_many = formatval;\r\n\t\t\t} else {\r\n\t\t\t\tthis.relationInfoM2M[0].collection_many = val;\r\n\t\t\t\tthis.relationInfoM2M[1].collection_many = val;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.useFieldInfo();\r\n\t\tthis.initRelation();\r\n\r\n\t\tthis.activeTab = this.existing ? 'options' : 'interface';\r\n\t},\r\n\tmethods: {\r\n\t\tslug,\r\n\t\tinterfaceSubtitles(ext) {\r\n\t\t\tif (ext.types) {\r\n\t\t\t\treturn this.$helpers.formatTitle(ext.types[0]);\r\n\t\t\t} else {\r\n\t\t\t\treturn 'String';\r\n\t\t\t}\r\n\t\t},\r\n\t\tnextTab() {\r\n\t\t\tif (this.existing) {\r\n\t\t\t\treturn this.saveField();\r\n\t\t\t}\r\n\r\n\t\t\tswitch (this.activeTab) {\r\n\t\t\t\tcase 'interface':\r\n\t\t\t\t\tthis.activeTab = 'schema';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'schema':\r\n\t\t\t\t\tif (this.relation) {\r\n\t\t\t\t\t\treturn (this.activeTab = 'relation');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.hasOptions === false) {\r\n\t\t\t\t\t\treturn this.saveField();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.activeTab = 'options';\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'relation':\r\n\t\t\t\t\tif (this.hasOptions === false) {\r\n\t\t\t\t\t\treturn this.saveField();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.activeTab = 'options';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'options':\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.saveField();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetInterface(id) {\r\n\t\t\tthis.interfaceName = id;\r\n\r\n\t\t\tif (!this.existing) {\r\n\t\t\t\tthis.nextTab();\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveField() {\r\n\t\t\tconst fieldInfo = {\r\n\t\t\t\tid: this.id,\r\n\t\t\t\tsort: this.sort,\r\n\t\t\t\tfield: this.field,\r\n\t\t\t\ttype: this.type,\r\n\t\t\t\tdatatype: this.datatype,\r\n\t\t\t\tinterface: this.interfaceName,\r\n\t\t\t\tdefault_value: this.default_value,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\treadonly: this.readonly,\r\n\t\t\t\trequired: this.required,\r\n\t\t\t\tunique: this.unique,\r\n\t\t\t\tnote: this.note,\r\n\t\t\t\thidden_detail: this.hidden_detail,\r\n\t\t\t\thidden_browse: this.hidden_browse,\r\n\t\t\t\tprimary_key: this.primary_key,\r\n\t\t\t\tvalidation: this.validation,\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\ttranslation: this.translation\r\n\t\t\t};\r\n\r\n\t\t\tif (this.lengthDisabled === false) {\r\n\t\t\t\tfieldInfo.length = this.length;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.isNumeric === true) {\r\n\t\t\t\tfieldInfo.signed = this.signed;\r\n\t\t\t}\r\n\r\n\t\t\tconst result = {\r\n\t\t\t\tfieldInfo,\r\n\t\t\t\trelation: null\r\n\t\t\t};\r\n\r\n\t\t\tif (this.relation) {\r\n\t\t\t\tif (this.relation === 'm2o') {\r\n\t\t\t\t\tresult.relation = { ...this.relationInfo };\r\n\t\t\t\t\tdelete result.relation.field_one;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.relation === 'o2m') {\r\n\t\t\t\t\tresult.relation = { ...this.relationInfo };\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.relation === 'm2m') {\r\n\t\t\t\t\tresult.relation = [...this.relationInfoM2M];\r\n\t\t\t\t\tif (this.createM2Mjunction === true) {\r\n\t\t\t\t\t\tthis.createM2MjunctionCollection();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.$emit('save', result);\r\n\t\t},\r\n\t\tuseFieldInfo() {\r\n\t\t\tif (!this.fieldInfo || Object.keys(this.fieldInfo).length === 0) return;\r\n\r\n\t\t\t// This is somewhat disgusting. The parent fields route shouldn't pass in the\r\n\t\t\t// stale copy of the field based on the API load, but should instead pass\r\n\t\t\t// just the name of the field, so we can directly pull it from the store.\r\n\t\t\t//\r\n\t\t\t// The parent should also use the store directly, seeing that we are loading\r\n\t\t\t// the fields nested in the collections anyway (this didn't use to be\r\n\t\t\t// that way). +1 for future optimizations!\r\n\t\t\tconst fieldName = this.fieldInfo.field;\r\n\t\t\tconst collectionName = this.collectionInfo.collection;\r\n\t\t\tconst storeFieldCopy = cloneDeep(\r\n\t\t\t\tthis.$store.state.collections[collectionName].fields[fieldName]\r\n\t\t\t);\r\n\r\n\t\t\tObject.keys(storeFieldCopy).forEach(key => {\r\n\t\t\t\tif (storeFieldCopy[key] != null) this[key] = storeFieldCopy[key];\r\n\t\t\t});\r\n\r\n\t\t\t// 'interface' is a reserved word in JS, so we need to work around that\r\n\t\t\tthis.interfaceName = storeFieldCopy.interface;\r\n\r\n\t\t\t// The API saves the type case insensitive, but the mapping requires case changing\r\n\t\t\tthis.type = this.type && this.type.toLowerCase();\r\n\t\t\tthis.datatype = this.datatype && this.datatype.toUpperCase();\r\n\t\t},\r\n\t\tinitRelation() {\r\n\t\t\tif (!this.relation) return;\r\n\r\n\t\t\tconst collection = this.collectionInfo.collection;\r\n\t\t\tconst field = this.field;\r\n\r\n\t\t\tif (this.relation === 'm2o') {\r\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.m2o(collection, field));\r\n\r\n\t\t\t\tif (existingRelation) {\r\n\t\t\t\t\tforEach(existingRelation, (val, key) => {\r\n\t\t\t\t\t\tif (key && val && key.startsWith('collection')) {\r\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.collection);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (key && val && key.startsWith('field')) {\r\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.field);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\tthis.$set(this.relationInfo, key, val);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.relationInfo.collection_many = this.collectionInfo.collection;\r\n\t\t\t\t\tthis.relationInfo.field_many = this.field;\r\n\t\t\t\t\tthis.relationInfo.collection_one = Object.values(\r\n\t\t\t\t\t\tcloneDeep(this.$store.state.collections)\r\n\t\t\t\t\t)[0].collection;\r\n\t\t\t\t\tthis.relationInfo.field_one = find(\r\n\t\t\t\t\t\tObject.values(cloneDeep(this.$store.state.collections))[0].fields,\r\n\t\t\t\t\t\t{ primary_key: true }\r\n\t\t\t\t\t).field;\r\n\t\t\t\t}\r\n\t\t\t} else if (this.relation === 'o2m') {\r\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.o2m(collection, field));\r\n\r\n\t\t\t\tif (existingRelation) {\r\n\t\t\t\t\tforEach(existingRelation, (val, key) => {\r\n\t\t\t\t\t\tif (key && val && key.startsWith('collection')) {\r\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.collection);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (key && val && key.startsWith('field')) {\r\n\t\t\t\t\t\t\treturn this.$set(this.relationInfo, key, val.field);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\tthis.$set(this.relationInfo, key, val);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.relationInfo.collection_one = this.collectionInfo.collection;\r\n\t\t\t\t\tthis.relationInfo.field_one = this.field;\r\n\r\n\t\t\t\t\tthis.relationInfo.collection_many = Object.values(\r\n\t\t\t\t\t\tcloneDeep(this.$store.state.collections)\r\n\t\t\t\t\t)[0].collection;\r\n\r\n\t\t\t\t\tthis.relationInfo.field_many = find(\r\n\t\t\t\t\t\tObject.values(cloneDeep(this.$store.state.collections))[0].fields,\r\n\t\t\t\t\t\t{ primary_key: false }\r\n\t\t\t\t\t).field;\r\n\r\n\t\t\t\t\tthis.getM2OID();\r\n\t\t\t\t}\r\n\t\t\t} else if (this.relation === 'm2m') {\r\n\t\t\t\tconst existingRelation = cloneDeep(this.$store.getters.o2m(collection, field));\r\n\r\n\t\t\t\tif (field && existingRelation) {\r\n\t\t\t\t\tthis.junctionNameM2M = existingRelation.collection_many.collection;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].id = existingRelation.id;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].field_many = existingRelation.field_many.field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].collection_one =\r\n\t\t\t\t\t\texistingRelation.collection_one.collection;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].field_one = existingRelation.field_one.field;\r\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field =\r\n\t\t\t\t\t\texistingRelation.junction.field_many.field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].id = existingRelation.junction.id;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].field_many = existingRelation.junction.field_many.field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].collection_one =\r\n\t\t\t\t\t\texistingRelation.junction.collection_one.collection;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].field_one =\r\n\t\t\t\t\t\texistingRelation.junction.field_one &&\r\n\t\t\t\t\t\texistingRelation.junction.field_one.field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = existingRelation.field_many.field;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.junctionNameM2M = Object.keys(this.collections)[0];\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].field_many = Object.values(\r\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\r\n\t\t\t\t\t)[0].field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].collection_one = this.collectionInfo.collection;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[0].junction_field = Object.values(\r\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\r\n\t\t\t\t\t)[0].field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].field_many = Object.values(\r\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\r\n\t\t\t\t\t)[0].field;\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].collection_one = Object.keys(this.collections)[1];\r\n\r\n\t\t\t\t\tthis.relationInfoM2M[1].junction_field = Object.values(\r\n\t\t\t\t\t\tObject.values(this.collections)[0].fields\r\n\t\t\t\t\t)[0].field;\r\n\r\n\t\t\t\t\t// Recommended relationships\r\n\t\t\t\t\t// Interfaces can recommend a related collection. For example, the files\r\n\t\t\t\t\t// interface will recommend the collection_many to be directus_files\r\n\t\t\t\t\t// in order to make it easier for the user to setup the interface\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tthis.selectedInterfaceInfo.relation &&\r\n\t\t\t\t\t\ttypeof this.selectedInterfaceInfo.relation === 'object'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (this.selectedInterfaceInfo.relation.relatedCollection) {\r\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one = this.selectedInterfaceInfo.relation.relatedCollection;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetM2OID() {\r\n\t\t\tconst collection = this.relationInfo.collection_many;\r\n\t\t\tconst field = this.relationInfo.field_many;\r\n\r\n\t\t\tconst m2o = cloneDeep(this.$store.getters.m2o(collection, field));\r\n\r\n\t\t\tif (m2o) {\r\n\t\t\t\tthis.relationInfo.id = m2o.id;\r\n\t\t\t} else {\r\n\t\t\t\tthis.relationInfo.id = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfields(collection) {\r\n\t\t\tif (!collection) return {};\r\n\t\t\treturn this.collections[collection].fields;\r\n\t\t},\r\n\t\tfieldsNonSystem(collection) {\r\n\t\t\tif (!collection) return {};\r\n\t\t\tvar fields = this.collections[collection].fields;\r\n\t\t\tfor (var key in fields) {\r\n\t\t\t\tif (fields.hasOwnProperty(key) && fields[key].primary_key) {\r\n\t\t\t\t\tdelete fields[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.collections[collection].fields;\r\n\t\t},\r\n\t\tprimaryKeyFieldByCollection(collection) {\r\n\t\t\tconst fields = this.fields(collection);\r\n\t\t\treturn find(fields, { primary_key: true });\r\n\t\t},\r\n\t\tvalidateFieldName(string) {\r\n\t\t\t// Based on https://gist.github.com/mathewbyrne/1280286\r\n\t\t\treturn string\r\n\t\t\t\t.toString()\r\n\t\t\t\t.replace(/\\s+/g, '_') // Replace spaces with _\r\n\t\t\t\t.replace(/[^\\w_]+/g, '') // Remove all non-word chars\r\n\t\t\t\t.replace(/__+/g, '_') // Replace multiple _ with single _\r\n\t\t\t\t.toLowerCase();\r\n\t\t},\r\n\t\tautoM2Msuggestion(collectionName, suffix) {\r\n\t\t\treturn collectionName + '_' + suffix;\r\n\t\t},\r\n\r\n\t\t// issue here getting the new field to add M2M relationships without refreshing\r\n\t\tcreateM2MjunctionCollection() {\r\n\t\t\tvar collectionData = {\r\n\t\t\t\tcollection: this.junctionNameM2M,\r\n\t\t\t\thidden: true,\r\n\t\t\t\tnote: this.$t('junction_collection'),\r\n\t\t\t\tfields: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: 'id',\r\n\t\t\t\t\t\ttype: 'integer',\r\n\t\t\t\t\t\tdatatype: 'int',\r\n\t\t\t\t\t\tinterface: 'primary-key',\r\n\t\t\t\t\t\tprimary_key: true,\r\n\t\t\t\t\t\tauto_increment: true,\r\n\t\t\t\t\t\tsigned: false,\r\n\t\t\t\t\t\tlength: 10\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: this.relationInfoM2M[0].field_many,\r\n\t\t\t\t\t\ttype: this.primaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\tthis.relationInfoM2M[0].collection_one\r\n\t\t\t\t\t\t).type,\r\n\t\t\t\t\t\tlength: 10,\r\n\t\t\t\t\t\tdatatype: this.primaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\tthis.relationInfoM2M[0].collection_one\r\n\t\t\t\t\t\t).datatype,\r\n\t\t\t\t\t\tinterface: null,\r\n\t\t\t\t\t\treadonly: false,\r\n\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield: this.relationInfoM2M[1].field_many,\r\n\t\t\t\t\t\ttype: this.primaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one\r\n\t\t\t\t\t\t).type,\r\n\t\t\t\t\t\tlength: 10,\r\n\t\t\t\t\t\tdatatype: this.primaryKeyFieldByCollection(\r\n\t\t\t\t\t\t\tthis.relationInfoM2M[1].collection_one\r\n\t\t\t\t\t\t).datatype,\r\n\t\t\t\t\t\tinterface: null,\r\n\t\t\t\t\t\treadonly: false,\r\n\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t\tvar fieldDispatch = {\r\n\t\t\t\tid: {\r\n\t\t\t\t\tauto_increment: true,\r\n\t\t\t\t\tcollection: this.junctionNameM2M,\r\n\t\t\t\t\tdatatype: 'int',\r\n\t\t\t\t\tdefault_value: null,\r\n\t\t\t\t\tfield: 'id',\r\n\t\t\t\t\tgroup: null,\r\n\t\t\t\t\thidden_detail: true,\r\n\t\t\t\t\thidden_browse: true,\r\n\t\t\t\t\tinterface: 'primary-key',\r\n\t\t\t\t\tlength: '10',\r\n\t\t\t\t\tlocked: 0,\r\n\t\t\t\t\tnote: null,\r\n\t\t\t\t\toptions: null,\r\n\t\t\t\t\tprimary_key: true,\r\n\t\t\t\t\treadonly: 0,\r\n\t\t\t\t\trequired: false,\r\n\t\t\t\t\tsigned: false,\r\n\t\t\t\t\tsort: 1,\r\n\t\t\t\t\ttranslation: null,\r\n\t\t\t\t\ttype: 'integer',\r\n\t\t\t\t\tunique: false,\r\n\t\t\t\t\tvalidation: null,\r\n\t\t\t\t\twidth: 4\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tfieldDispatch[this.relationInfoM2M[0].field_many] = {\r\n\t\t\t\tcollection: this.junctionNameM2M,\r\n\t\t\t\tfield: this.relationInfoM2M[0].field_many,\r\n\t\t\t\tdatatype: this.primaryKeyFieldByCollection(this.relationInfoM2M[0].collection_one)\r\n\t\t\t\t\t.datatype,\r\n\t\t\t\tunique: false,\r\n\t\t\t\tprimary_key: false,\r\n\t\t\t\tauto_increment: false,\r\n\t\t\t\tdefault_value: null,\r\n\t\t\t\tnote: null,\r\n\t\t\t\tsigned: true,\r\n\t\t\t\ttype: this.primaryKeyFieldByCollection(this.relationInfoM2M[0].collection_one).type,\r\n\t\t\t\tsort: 0,\r\n\t\t\t\tinterface: null,\r\n\t\t\t\thidden_detail: true,\r\n\t\t\t\thidden_browse: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\toptions: null,\r\n\t\t\t\tlocked: false,\r\n\t\t\t\ttranslation: null,\r\n\t\t\t\treadonly: false,\r\n\t\t\t\twidth: 4,\r\n\t\t\t\tvalidation: null,\r\n\t\t\t\tgroup: null,\r\n\t\t\t\tlength: 10\r\n\t\t\t};\r\n\t\t\tfieldDispatch[this.relationInfoM2M[1].field_many] = {\r\n\t\t\t\tcollection: this.junctionNameM2M,\r\n\t\t\t\tfield: this.relationInfoM2M[1].field_many,\r\n\t\t\t\tdatatype: this.primaryKeyFieldByCollection(this.relationInfoM2M[1].collection_one)\r\n\t\t\t\t\t.datatype,\r\n\t\t\t\tunique: false,\r\n\t\t\t\tprimary_key: false,\r\n\t\t\t\tauto_increment: false,\r\n\t\t\t\tdefault_value: null,\r\n\t\t\t\tnote: null,\r\n\t\t\t\tsigned: true,\r\n\t\t\t\ttype: this.primaryKeyFieldByCollection(this.relationInfoM2M[1].collection_one).type,\r\n\t\t\t\tsort: 0,\r\n\t\t\t\tinterface: null,\r\n\t\t\t\thidden_detail: true,\r\n\t\t\t\thidden_browse: true,\r\n\t\t\t\trequired: true,\r\n\t\t\t\toptions: null,\r\n\t\t\t\tlocked: false,\r\n\t\t\t\ttranslation: null,\r\n\t\t\t\treadonly: false,\r\n\t\t\t\twidth: 4,\r\n\t\t\t\tvalidation: null,\r\n\t\t\t\tgroup: null,\r\n\t\t\t\tlength: 10\r\n\t\t\t};\r\n\t\t\tthis.$api\r\n\t\t\t\t.createCollection(collectionData, {\r\n\t\t\t\t\tfields: '*.*'\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => res.data)\r\n\t\t\t\t.then(collection => {\r\n\t\t\t\t\tthis.$store.dispatch('addCollection', {\r\n\t\t\t\t\t\t...collection,\r\n\t\t\t\t\t\tfields: fieldDispatch\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.dispatch('addPermission', {\r\n\t\t\t\t\t\tcollection: this.junctionNameM2M,\r\n\t\t\t\t\t\tpermission: {\r\n\t\t\t\t\t\t\t$create: defaultFull,\r\n\t\t\t\t\t\t\t...defaultFull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.type-heading-medium {\r\n\t// max-width: 80%;\r\n\tmargin-bottom: 30px;\r\n}\r\n\r\n.currently-selected {\r\n\tmargin-bottom: 40px;\r\n}\r\n\r\n.interface-filter {\r\n\tmargin-bottom: 40px;\r\n}\r\n\r\n.type-note {\r\n\tmargin-top: var(--input-note-margin);\r\n\t& b {\r\n\t\tfont-weight: var(--weight-bold);\r\n\t}\r\n}\r\n\r\n.note {\r\n\tdisplay: block;\r\n\tmargin-top: var(--input-note-margin);\r\n}\r\n\r\n.interfaces {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(4, 1fr);\r\n\tgrid-gap: 20px;\r\n\r\n\tarticle {\r\n\t\tdisplay: block;\r\n\t\tflex-basis: 160px;\r\n\t\tflex-shrink: 0;\r\n\t\toverflow: hidden;\r\n\t\ttransition: box-shadow var(--fast) var(--transition-out);\r\n\t\tcursor: pointer;\r\n\r\n\t\t.header {\r\n\t\t\tbackground-color: var(--card-background-color);\r\n\t\t\tborder-radius: var(--border-radius);\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20px 0;\r\n\t\t\ttransition: background-color var(--fast) var(--transition-out);\r\n\t\t\ti {\r\n\t\t\t\tcolor: var(--card-text-color-disabled) !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&.active {\r\n\t\t\t.header {\r\n\t\t\t\tbackground-color: var(--card-background-color-hover);\r\n\t\t\t\tcolor: var(--card-text-color);\r\n\t\t\t\ttransition: background-color var(--fast) var(--transition-in);\r\n\t\t\t\ti {\r\n\t\t\t\t\tcolor: var(--card-text-color) !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&:hover {\r\n\t\t\t.header {\r\n\t\t\t\tbackground-color: var(--card-background-color-hover);\r\n\t\t\t\ti {\r\n\t\t\t\t\tcolor: var(--card-text-color) !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.body {\r\n\t\t\tpadding-top: 8px;\r\n\t\t}\r\n\r\n\t\th2 {\r\n\t\t\tmargin: 0;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\r\n\t\tp {\r\n\t\t\tcolor: var(--note-text-color);\r\n\t\t\tfont-size: 14px;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nform.schema {\r\n\t.type-label {\r\n\t\tmargin-bottom: var(--input-label-margin);\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.name {\r\n\t\tmargin-bottom: 30px;\r\n\t}\r\n\r\n\t.name-input {\r\n\t\tfont-family: 'Roboto Mono', monospace;\r\n\t}\r\n\r\n\t.advanced-form,\r\n\t.toggles,\r\n\t.name {\r\n\t\tdisplay: grid;\r\n\t\tgrid-gap: 32px 32px;\r\n\t\tgrid-template-columns: 1fr 1fr;\r\n\r\n\t\t.type-note {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmargin-top: var(--input-note-margin);\r\n\t\t}\r\n\r\n\t\t.toggle {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\ttext-transform: capitalize;\r\n\t\t\tfont-size: 1rem;\r\n\t\t\tcursor: pointer;\r\n\t\t\twidth: max-content;\r\n\r\n\t\t\t> *:first-child {\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.translation {\r\n\t\t\tgrid-column: 1 / span 2;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nform.options {\r\n\tmargin-top: 30px;\r\n\tlabel {\r\n\t\tmargin-bottom: var(--input-label-margin);\r\n\t}\r\n\tdiv.options {\r\n\t\tmargin-bottom: 30px;\r\n\t\t&:last-of-type {\r\n\t\t\tmargin-bottom: 20px;\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndetails {\r\n\tposition: relative;\r\n\tmargin-top: 60px;\r\n\tborder-top: 2px solid var(--input-border-color);\r\n\tpadding-top: 40px;\r\n\tsummary {\r\n\t\tfont-size: 18px;\r\n\t\tcolor: var(--note-text-color);\r\n\t\tfont-weight: 400;\r\n\t\ttransition: var(--fast) var(--transition);\r\n\t\tmargin-top: -16px;\r\n\t\tbackground-color: var(--page-background-color);\r\n\t\tdisplay: inline-block;\r\n\t\tposition: absolute;\r\n\t\ttop: 4px;\r\n\t\tcursor: pointer;\r\n\r\n\t\t&:hover {\r\n\t\t\tcolor: var(--page-text-color);\r\n\t\t}\r\n\r\n\t\t&::-webkit-details-marker {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t&::after {\r\n\t\t\tcontent: 'unfold_more';\r\n\t\t\tdirection: ltr;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-family: 'Material Icons';\r\n\t\t\tfont-size: 18px;\r\n\t\t\tcolor: var(--input-icon-color);\r\n\t\t\tfont-style: normal;\r\n\t\t\tfont-weight: normal;\r\n\t\t\tletter-spacing: normal;\r\n\t\t\tline-height: 1;\r\n\t\t\ttext-transform: none;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tword-wrap: normal;\r\n\t\t\t-webkit-font-feature-settings: 'liga';\r\n\t\t\t-webkit-font-smoothing: antialiased;\r\n\t\t\ttransition: var(--fast) var(--transition);\r\n\t\t\twidth: 28px;\r\n\t\t\theight: 24px;\r\n\t\t\tmargin-left: 6px;\r\n\t\t\tmargin-top: 2px;\r\n\t\t\tfloat: right;\r\n\t\t}\r\n\t}\r\n\r\n\t&[open] summary::after {\r\n\t\tcontent: 'unfold_less';\r\n\t}\r\n}\r\n\r\n.no-results {\r\n\tmargin: 20px auto;\r\n\tmin-height: 0;\r\n}\r\n\r\n.required {\r\n\tcolor: var(--input-required-color);\r\n\tvertical-align: super;\r\n}\r\n\r\n.single {\r\n\tdisplay: grid;\r\n\tgrid-template-areas:\r\n\t\t'a _ b'\r\n\t\t'c _ d'\r\n\t\t'e f g';\r\n\tgrid-template-columns: 1fr 20px 1fr;\r\n\tgrid-gap: 10px 0;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\r\n\tspan:first-of-type {\r\n\t\tgrid-area: a;\r\n\t}\r\n\r\n\tspan:last-of-type {\r\n\t\tgrid-area: b;\r\n\t}\r\n\r\n\t.select {\r\n\t\t&:first-of-type {\r\n\t\t\tgrid-area: c;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(2) {\r\n\t\t\tgrid-area: e;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(3) {\r\n\t\t\tgrid-area: d;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(4) {\r\n\t\t\tgrid-area: g;\r\n\t\t}\r\n\t}\r\n\r\n\t.v-icon {\r\n\t\tgrid-area: f;\r\n\t\tcolor: var(--input-border-color);\r\n\t\ttransform: translateX(-2px);\r\n\t}\r\n}\r\n\r\n.full {\r\n\tmargin-top: 40px;\r\n\tdisplay: grid;\r\n\tgrid-template-areas:\r\n\t\t'a b c d e'\r\n\t\t'f g h i j'\r\n\t\t'k l m n o'\r\n\t\t'p q r s t'\r\n\t\t'u u v w w';\r\n\tgrid-template-columns: 1fr 20px 1fr 20px 1fr;\r\n\tgrid-gap: 10px 0;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\r\n\tp:first-of-type {\r\n\t\tgrid-area: a;\r\n\t}\r\n\r\n\tp:nth-of-type(2) {\r\n\t\tgrid-area: c;\r\n\t}\r\n\r\n\tp:last-of-type {\r\n\t\tgrid-area: e;\r\n\t}\r\n\r\n\t.select {\r\n\t\t&:first-of-type {\r\n\t\t\tgrid-area: f;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(2) {\r\n\t\t\tgrid-area: k;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(3) {\r\n\t\t\tgrid-area: h;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(4) {\r\n\t\t\tgrid-area: m;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(5) {\r\n\t\t\tgrid-area: r;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(6) {\r\n\t\t\tgrid-area: j;\r\n\t\t}\r\n\r\n\t\t&:nth-of-type(7) {\r\n\t\t\tgrid-area: t;\r\n\t\t}\r\n\t}\r\n\r\n\t.v-icon {\r\n\t\tgrid-area: l;\r\n\t\tcolor: var(--input-border-color);\r\n\t\ttransform: translateX(-2px);\r\n\r\n\t\t&:last-of-type {\r\n\t\t\tgrid-area: s;\r\n\t\t}\r\n\t}\r\n\r\n\t.v-checkbox {\r\n\t\t&:first-of-type {\r\n\t\t\tgrid-area: v;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.toggles {\r\n\tmargin-top: 32px;\r\n}\r\n\r\nlabel {\r\n\tmargin-bottom: var(--input-label-margin);\r\n}\r\n\r\nhr {\r\n\tmargin: 32px 0;\r\n\tborder: 0;\r\n\tborder-top: 2px solid var(--blue-grey-50);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field-setup.vue?vue&type=template&id=367f7394&scoped=true&\"\nimport script from \"./field-setup.vue?vue&type=script&lang=js&\"\nexport * from \"./field-setup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./field-setup.vue?vue&type=style&index=0&id=367f7394&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"367f7394\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-modal',{attrs:{\"title\":_vm.$t('duplicating_field') +\n\t\t\t': ' +\n\t\t\t_vm.$helpers.formatField(_vm.fieldInfo.field, _vm.fieldInfo.collection),\"buttons\":_vm.buttons},on:{\"save\":function($event){return _vm.saveField()},\"close\":function($event){return _vm.$emit('close')}}},[_c('form',{staticClass:\"options\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"options\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.$tc('collection', 1))+\" \"),_c('v-simple-select',{attrs:{\"required\":\"\"},model:{value:(_vm.selectedCollection),callback:function ($$v) {_vm.selectedCollection=$$v},expression:\"selectedCollection\"}},_vm._l((Object.keys(this.collections)),function(collection){return _c('option',{key:collection,domProps:{\"value\":collection,\"selected\":collection === _vm.selectedCollection}},[_vm._v(\" \"+_vm._s(_vm.$helpers.formatTitle(collection))+\" \")])}),0)],1)]),_c('div',{staticClass:\"options\"},[_c('label',[_vm._v(\" \"+_vm._s(_vm.$tc('field', 1) + ' ' + _vm.$t('name'))+\" \"),_c('v-input',{attrs:{\"required\":\"\",\"value\":_vm.field,\"placeholder\":_vm.fieldInfo.field,\"icon-right\":_vm.iconToShow.icon,\"icon-right-color\":_vm.iconToShow.color,\"icon-right-tooltip\":_vm.iconToShow.tooltip},model:{value:(_vm.field),callback:function ($$v) {_vm.field=$$v},expression:\"field\"}})],1),_c('p',{staticClass:\"small-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('display_name'))+\": \"),_c('b',[_vm._v(_vm._s(_vm.$helpers.formatTitle(_vm.field || '...')))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-modal\r\n\t\t:title=\"\r\n\t\t\t$t('duplicating_field') +\r\n\t\t\t\t': ' +\r\n\t\t\t\t$helpers.formatField(fieldInfo.field, fieldInfo.collection)\r\n\t\t\"\r\n\t\t:buttons=\"buttons\"\r\n\t\t@save=\"saveField()\"\r\n\t\t@close=\"$emit('close')\"\r\n\t>\r\n\t\t<form class=\"options\" @submit.prevent>\r\n\t\t\t<div class=\"options\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\t{{ $tc('collection', 1) }}\r\n\t\t\t\t\t<v-simple-select v-model=\"selectedCollection\" required>\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tv-for=\"collection in Object.keys(this.collections)\"\r\n\t\t\t\t\t\t\t:key=\"collection\"\r\n\t\t\t\t\t\t\t:value=\"collection\"\r\n\t\t\t\t\t\t\t:selected=\"collection === selectedCollection\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ $helpers.formatTitle(collection) }}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t</v-simple-select>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"options\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\t{{ $tc('field', 1) + ' ' + $t('name') }}\r\n\t\t\t\t\t<v-input\r\n\t\t\t\t\t\tv-model=\"field\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t:value=\"field\"\r\n\t\t\t\t\t\t:placeholder=\"fieldInfo.field\"\r\n\t\t\t\t\t\t:icon-right=\"iconToShow.icon\"\r\n\t\t\t\t\t\t:icon-right-color=\"iconToShow.color\"\r\n\t\t\t\t\t\t:icon-right-tooltip=\"iconToShow.tooltip\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<p class=\"small-text\">\r\n\t\t\t\t\t{{ $t('display_name') }}:\r\n\t\t\t\t\t<b>{{ $helpers.formatTitle(field || '...') }}</b>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</v-modal>\r\n</template>\r\n\r\n<script>\r\nimport { datatypes } from '../type-map';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport default {\r\n\tname: 'VFieldDuplicate',\r\n\tprops: {\r\n\t\tcollectionInformation: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tfieldInformation: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfieldInfo: Object.assign({}, this.fieldInformation),\r\n\t\t\tselectedCollection: this.collectionInformation.collection,\r\n\t\t\tfield: null,\r\n\t\t\tsaving: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tdatabaseVendor() {\r\n\t\t\treturn cloneDeep(this.$store.state.serverInfo.databaseVendor);\r\n\t\t},\r\n\t\tselectedDatatypeInfo() {\r\n\t\t\treturn datatypes[this.databaseVendor][this.fieldInfo.datatype];\r\n\t\t},\r\n\t\tlengthDisabled() {\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.length === true) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.selectedDatatypeInfo && this.selectedDatatypeInfo.decimal === true) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tcanDuplicate() {\r\n\t\t\tif (this.field && this.isFieldValid && this.selectedCollection) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\ticonToShow() {\r\n\t\t\tif (!this.field) {\r\n\t\t\t\treturn { icon: null, color: null };\r\n\t\t\t}\r\n\t\t\tif (this.isFieldValid) {\r\n\t\t\t\treturn { icon: 'done', color: 'success' };\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'error',\r\n\t\t\t\tcolor: 'danger',\r\n\t\t\t\ttooltip: this.$t('field_already_exists', { field: \"'\" + this.field + \"'\" })\r\n\t\t\t};\r\n\t\t},\r\n\t\tisFieldValid() {\r\n\t\t\tlet isValid = true;\r\n\t\t\tObject.keys(this.collections[this.selectedCollection].fields).forEach(field => {\r\n\t\t\t\tif (field === this.field) {\r\n\t\t\t\t\tisValid = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (isValid) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tcollectionFieldCount() {\r\n\t\t\treturn Object.keys(this.collections[this.selectedCollection].fields).length;\r\n\t\t},\r\n\t\tcollections() {\r\n\t\t\tconst collections = Object.assign({}, this.$store.state.collections);\r\n\t\t\treturn Object.keys(collections)\r\n\t\t\t\t.filter(collection => collection.startsWith('directus_') === false)\r\n\t\t\t\t.reduce((obj, collection) => {\r\n\t\t\t\t\tobj[collection] = collections[collection];\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t}, {});\r\n\t\t},\r\n\t\tbuttons() {\r\n\t\t\treturn {\r\n\t\t\t\tsave: {\r\n\t\t\t\t\tdisabled: !this.canDuplicate,\r\n\t\t\t\t\ttext: this.$t('create'),\r\n\t\t\t\t\tloading: this.saving\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tfield(val) {\r\n\t\t\t// Based on https://gist.github.com/mathewbyrne/1280286\r\n\t\t\tthis.field = val\r\n\t\t\t\t.toString()\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.replace(/\\s+/g, '_') // Replace spaces with _\r\n\t\t\t\t.replace(/[^\\w_]+/g, '') // Remove all non-word chars\r\n\t\t\t\t.replace(/__+/g, '_'); // Replace multiple _ with single _\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsaveField() {\r\n\t\t\tthis.saving = true;\r\n\r\n\t\t\tlet fieldInfo = this.fieldInfo;\r\n\t\t\tfieldInfo.field = this.field;\r\n\t\t\tfieldInfo.sort = this.collectionFieldCount + 1;\r\n\t\t\tdelete fieldInfo.id;\r\n\t\t\tdelete fieldInfo.name;\r\n\r\n\t\t\tif (this.lengthDisabled === true) {\r\n\t\t\t\tdelete fieldInfo.length;\r\n\t\t\t}\r\n\r\n\t\t\tconst result = {\r\n\t\t\t\tfieldInfo,\r\n\t\t\t\tcollection: this.selectedCollection\r\n\t\t\t};\r\n\r\n\t\t\tthis.$emit('save', result);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nform.options {\r\n\tpadding: 5% 10%;\r\n\r\n\tdiv.options {\r\n\t\tmargin-bottom: 30px;\r\n\r\n\t\t&:last-of-type {\r\n\t\t\tmargin-bottom: 0px;\r\n\t\t}\r\n\t}\r\n\r\n\t& label > .v-simple-select,\r\n\t& label > .v-input {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.required {\r\n\t\tcolor: var(--blue-grey-900);\r\n\t\tvertical-align: super;\r\n\t\tfont-size: 7px;\r\n\t}\r\n\r\n\t.small-text {\r\n\t\tmargin-top: 4px;\r\n\t\tfont-style: italic;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 1.5em;\r\n\t\tcolor: var(--blue-grey-300);\r\n\t\t& b {\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field-duplicate.vue?vue&type=template&id=27f29b16&scoped=true&\"\nimport script from \"./field-duplicate.vue?vue&type=script&lang=js&\"\nexport * from \"./field-duplicate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./field-duplicate.vue?vue&type=style&index=0&id=27f29b16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27f29b16\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<not-found v-if=\"!collectionInfo\" />\r\n\t<div v-else class=\"settings-fields\">\r\n\t\t<v-header\r\n\t\t\t:breadcrumb=\"breadcrumb\"\r\n\t\t\t:icon-link=\"`/${currentProjectKey}/settings/collections`\"\r\n\t\t\tsettings\r\n\t\t>\r\n\t\t\t<template slot=\"buttons\">\r\n\t\t\t\t<v-header-button\r\n\t\t\t\t\tkey=\"delete\"\r\n\t\t\t\t\ticon=\"delete_outline\"\r\n\t\t\t\t\tbackground-color=\"danger\"\r\n\t\t\t\t\ticon-color=\"white\"\r\n\t\t\t\t\thover-color=\"danger-dark\"\r\n\t\t\t\t\t:label=\"$t('delete')\"\r\n\t\t\t\t\t@click=\"confirmRemove = true\"\r\n\t\t\t\t/>\r\n\t\t\t\t<v-header-button\r\n\t\t\t\t\tkey=\"save\"\r\n\t\t\t\t\ticon=\"check\"\r\n\t\t\t\t\tbackground-color=\"button-primary-background-color\"\r\n\t\t\t\t\ticon-color=\"button-primary-text-color\"\r\n\t\t\t\t\t:loading=\"saving\"\r\n\t\t\t\t\t:disabled=\"Object.keys(edits).length === 0\"\r\n\t\t\t\t\t:label=\"$t('save')\"\r\n\t\t\t\t\t@click=\"save\"\r\n\t\t\t\t/>\r\n\t\t\t</template>\r\n\t\t</v-header>\r\n\r\n\t\t<label class=\"type-label\">{{ $tc('field', 2) }}</label>\r\n\t\t<v-notice color=\"warning\" icon=\"warning\">{{ $t('fields_are_saved_instantly') }}</v-notice>\r\n\t\t<div class=\"table\">\r\n\t\t\t<div class=\"header\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"drag\"><v-icon name=\"swap_vert\" /></div>\r\n\t\t\t\t\t<div>{{ $tc('field', 1) }}</div>\r\n\t\t\t\t\t<div>{{ $tc('interface', 1) }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"body\" :class=\"{ dragging }\">\r\n\t\t\t\t<draggable v-model=\"fields\" @start=\"startSort\" @end=\"saveSort\">\r\n\t\t\t\t\t<div v-for=\"field in fields\" :key=\"field.field\" class=\"row\">\r\n\t\t\t\t\t\t<div class=\"drag\"><v-icon name=\"drag_handle\" /></div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"inner row\"\r\n\t\t\t\t\t\t\t:style=\"{ cursor: field.interface ? 'inherit' : 'default' }\"\r\n\t\t\t\t\t\t\t@click.stop=\"field.interface ? startEditingField(field) : false\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"monospace\"\r\n\t\t\t\t\t\t\t\tv-tooltip=\"field.field.length > 25 ? field.field : null\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ field.field }}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t$store.state.extensions.interfaces[field.interface] &&\r\n\t\t\t\t\t\t\t\t\t\t$store.state.extensions.interfaces[field.interface].name\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t<v-button\r\n\t\t\t\t\t\t\t\t\tv-if=\"!field.interface\"\r\n\t\t\t\t\t\t\t\t\tclass=\"not-managed\"\r\n\t\t\t\t\t\t\t\t\t:loading=\"toManage.includes(field.field)\"\r\n\t\t\t\t\t\t\t\t\t@click=\"manageField(field)\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{ $t('manage') }}\r\n\t\t\t\t\t\t\t\t</v-button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<v-contextual-menu\r\n\t\t\t\t\t\t\tv-if=\"canDuplicate(field.interface) || fields.length > 1\"\r\n\t\t\t\t\t\t\tclass=\"more-options\"\r\n\t\t\t\t\t\t\tplacement=\"left-start\"\r\n\t\t\t\t\t\t\t:options=\"fieldOptions(field)\"\r\n\t\t\t\t\t\t\t@click=\"fieldOptionsClicked(field, $event)\"\r\n\t\t\t\t\t\t></v-contextual-menu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</draggable>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<v-button class=\"new-field\" @click=\"startEditingField({})\">\r\n\t\t\t{{ $t('new_field') }}\r\n\t\t</v-button>\r\n\r\n\t\t<v-form\r\n\t\t\tv-if=\"fields\"\r\n\t\t\t:fields=\"directusFields\"\r\n\t\t\t:values=\"values\"\r\n\t\t\tcollection=\"directus_collections\"\r\n\t\t\t@stage-value=\"stageValue\"\r\n\t\t/>\r\n\r\n\t\t<portal v-if=\"confirmRemove\" to=\"modal\">\r\n\t\t\t<v-confirm\r\n\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t:message=\"$t('delete_collection_are_you_sure')\"\r\n\t\t\t\t:confirm-text=\"$t('delete')\"\r\n\t\t\t\t@cancel=\"confirmRemove = false\"\r\n\t\t\t\t@confirm=\"remove\"\r\n\t\t\t/>\r\n\t\t</portal>\r\n\r\n\t\t<portal v-if=\"confirmFieldRemove\" to=\"modal\">\r\n\t\t\t<v-confirm\r\n\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t:message=\"$t('delete_field_are_you_sure', { field: fieldToBeRemoved })\"\r\n\t\t\t\t:confirm-text=\"$t('delete')\"\r\n\t\t\t\t@cancel=\"confirmFieldRemove = false\"\r\n\t\t\t\t@confirm=\"removeField(fieldToBeRemoved)\"\r\n\t\t\t/>\r\n\t\t</portal>\r\n\r\n\t\t<v-field-setup\r\n\t\t\tv-if=\"editingField\"\r\n\t\t\t:field-info=\"fieldBeingEdited\"\r\n\t\t\t:collection-info=\"collectionInfo\"\r\n\t\t\t:saving=\"fieldSaving\"\r\n\t\t\t@close=\"editingField = false\"\r\n\t\t\t@save=\"setFieldSettings\"\r\n\t\t/>\r\n\r\n\t\t<v-field-duplicate\r\n\t\t\tv-if=\"duplicatingField\"\r\n\t\t\t:field-information=\"fieldBeingDuplicated\"\r\n\t\t\t:collection-information=\"collectionInfo\"\r\n\t\t\t@close=\"duplicatingField = false\"\r\n\t\t\t@save=\"duplicateFieldSettings\"\r\n\t\t/>\r\n\t\t<v-info-sidebar wide>\r\n\t\t\t<span class=\"type-note\">No settings</span>\r\n\t\t</v-info-sidebar>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { datatypes } from '../../type-map';\r\nimport { keyBy } from 'lodash';\r\nimport formatTitle from '@directus/format-title';\r\nimport shortid from 'shortid';\r\nimport store from '../../store/';\r\nimport api from '../../api.js';\r\nimport NotFound from '../not-found.vue';\r\nimport VFieldSetup from '../../components/field-setup.vue';\r\nimport VFieldDuplicate from '../../components/field-duplicate.vue';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'SettingsFields',\r\n\tmetaInfo() {\r\n\t\treturn {\r\n\t\t\ttitle: `${this.$t('settings')} | ${this.$t('editing', {\r\n\t\t\t\tcollection: this.$helpers.formatTitle(this.collection)\r\n\t\t\t})}`\r\n\t\t};\r\n\t},\r\n\tcomponents: {\r\n\t\tNotFound,\r\n\t\tVFieldSetup,\r\n\t\tVFieldDuplicate\r\n\t},\r\n\tprops: {\r\n\t\tcollection: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttoManage: [],\r\n\t\t\tduplicateInterfaceBlacklist: [\r\n\t\t\t\t'primary-key',\r\n\t\t\t\t'many-to-many',\r\n\t\t\t\t'one-to-many',\r\n\t\t\t\t'many-to-one',\r\n\t\t\t\t'sort'\r\n\t\t\t],\r\n\t\t\tfieldSaving: false,\r\n\t\t\tsaving: false,\r\n\t\t\tdragging: false,\r\n\r\n\t\t\tfields: null,\r\n\t\t\tdirectusFields: null,\r\n\r\n\t\t\tnotFound: false,\r\n\t\t\terror: false,\r\n\r\n\t\t\tconfirmRemove: false,\r\n\t\t\tconfirmRemoveLoading: false,\r\n\r\n\t\t\tconfirmNavigation: false,\r\n\t\t\tleavingTo: '',\r\n\r\n\t\t\tedits: {},\r\n\r\n\t\t\tfieldBeingEdited: null,\r\n\t\t\tfieldToBeRemoved: null,\r\n\t\t\tconfirmFieldRemove: false,\r\n\r\n\t\t\tfieldBeingDuplicated: null,\r\n\t\t\tduplicatingField: false,\r\n\r\n\t\t\teditingField: false\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['currentProjectKey']),\r\n\t\tbreadcrumb() {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$t('settings'),\r\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings`\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$t('collections_and_fields'),\r\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings/collections`\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$helpers.formatCollection(this.collection),\r\n\t\t\t\t\tpath: `/${this.currentProjectKey}/settings/collections/${this.collection}`\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tcollectionInfo() {\r\n\t\t\treturn this.$store.state.collections[this.collection];\r\n\t\t},\r\n\t\tfieldsWithSort() {\r\n\t\t\treturn this.fields.map((field, index) => ({\r\n\t\t\t\t...field,\r\n\t\t\t\tsort: index + 1\r\n\t\t\t}));\r\n\t\t},\r\n\t\tvalues() {\r\n\t\t\treturn {\r\n\t\t\t\t...this.collectionInfo,\r\n\t\t\t\t...this.edits\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tmanageField(field) {\r\n\t\t\tthis.toManage.push(field.field);\r\n\t\t\tconst databaseVendor = this.$store.state.serverInfo.databaseVendor;\r\n\t\t\tconst suggestedInterface = datatypes[databaseVendor][field.datatype].fallbackInterface;\r\n\t\t\tconst fieldInfo = {\r\n\t\t\t\tfield: field.field,\r\n\t\t\t\tsort: field.sort,\r\n\t\t\t\tinterface: suggestedInterface\r\n\t\t\t};\r\n\t\t\tconst result = {\r\n\t\t\t\tfieldInfo,\r\n\t\t\t\trelation: null\r\n\t\t\t};\r\n\t\t\tthis.setFieldSettings(result).then(async () => {\r\n\t\t\t\tawait this.$store.dispatch('getCollections');\r\n\t\t\t\tfield.interface = suggestedInterface;\r\n\t\t\t\tthis.toManage.splice(this.toManage.indexOf(field.field), 1);\r\n\t\t\t});\r\n\t\t},\r\n\t\tremove() {\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.deleteCollection(this.collection)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$store.dispatch('removeCollection', this.collection);\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('collection_removed'),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$router.push(`/${this.currentProjectKey}/settings/collections`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tthis.saving = true;\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.updateCollection(this.collection, this.edits)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('collection_updated'),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.saving = false;\r\n\t\t\t\t\tthis.$store.dispatch('updateCollection', {\r\n\t\t\t\t\t\tcollection: this.collection,\r\n\t\t\t\t\t\tedits: this.edits\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$router.push(`/${this.currentProjectKey}/settings/collections`);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.saving = false;\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tstageValue({ field, value }) {\r\n\t\t\tif (value === this.collectionInfo[field]) {\r\n\t\t\t\tthis.$delete(this.edits, field);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$set(this.edits, field, value);\r\n\t\t},\r\n\t\tcanDuplicate(fieldInterface) {\r\n\t\t\tif (!fieldInterface) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn this.duplicateInterfaceBlacklist.includes(fieldInterface) === false;\r\n\t\t},\r\n\t\tduplicateFieldSettings({ fieldInfo, collection }) {\r\n\t\t\tconst requests = [];\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tfieldInfo.collection = collection;\r\n\t\t\trequests.push(this.$api.createField(collection, fieldInfo));\r\n\r\n\t\t\treturn Promise.all(requests)\r\n\t\t\t\t.then(([fieldRes]) => ({\r\n\t\t\t\t\tsavedFieldInfo: fieldRes.data\r\n\t\t\t\t}))\r\n\t\t\t\t.then(({ savedFieldInfo }) => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\r\n\t\t\t\t\tif (this.collection === collection) {\r\n\t\t\t\t\t\tthis.fields = [...this.fields, savedFieldInfo];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$store.dispatch('addField', {\r\n\t\t\t\t\t\tcollection: collection,\r\n\t\t\t\t\t\tfield: savedFieldInfo\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('field_created', {\r\n\t\t\t\t\t\t\tfield: this.$helpers.formatField(fieldInfo.field, fieldInfo.collection)\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.duplicatingField = false;\r\n\t\t\t\t\tthis.fieldBeingDuplicated = null;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync setFieldSettings({ fieldInfo, relation }) {\r\n\t\t\tthis.fieldSaving = true;\r\n\r\n\t\t\tconst existingField = this.$store.state.collections[\r\n\t\t\t\tthis.collection\r\n\t\t\t].fields.hasOwnProperty(fieldInfo.field);\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (existingField) {\r\n\t\t\t\t\tconst { data: savedFieldInfo } = await this.$api.updateField(\r\n\t\t\t\t\t\tthis.collection,\r\n\t\t\t\t\t\tfieldInfo.field,\r\n\t\t\t\t\t\tfieldInfo\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tthis.fields = this.fields.map(field => {\r\n\t\t\t\t\t\tif (field.id === savedFieldInfo.id) return savedFieldInfo;\r\n\t\t\t\t\t\treturn field;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('field_updated'),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst { data: savedFieldInfo } = await this.$api.createField(\r\n\t\t\t\t\t\tthis.collection,\r\n\t\t\t\t\t\tfieldInfo\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tthis.fields = [...this.fields, savedFieldInfo];\r\n\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('field_created'),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$store.dispatch('getCollections');\r\n\r\n\t\t\t\tif (relation) {\r\n\t\t\t\t\tconst saveRelation = async relation => {\r\n\t\t\t\t\t\tconst existingRelation = relation && relation.id != null;\r\n\r\n\t\t\t\t\t\tif (existingRelation) {\r\n\t\t\t\t\t\t\tconst { data: updatedRelation } = await this.$api.updateRelation(\r\n\t\t\t\t\t\t\t\trelation.id,\r\n\t\t\t\t\t\t\t\trelation\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tthis.$store.dispatch('updateRelation', updatedRelation);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst { data: newRelation } = await this.$api.createRelation(relation);\r\n\t\t\t\t\t\t\tthis.$store.dispatch('addRelation', newRelation);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (Array.isArray(relation)) {\r\n\t\t\t\t\t\tfor (let relationInfo of relation) {\r\n\t\t\t\t\t\t\tsaveRelation(relationInfo);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsaveRelation(relation);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.editingField = false;\r\n\t\t\t\tthis.fieldBeingEdited = null;\r\n\t\t\t\tthis.fieldSaving = false;\r\n\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.fieldSaving = false;\r\n\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\terror\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tfieldOptions(field) {\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t('duplicate'),\r\n\t\t\t\t\ticon: 'control_point_duplicate',\r\n\t\t\t\t\tdisabled: this.duplicateInterfaceBlacklist.includes(field.interface)\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: this.$t('delete'),\r\n\t\t\t\t\ticon: 'delete_outline'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\tfieldOptionsClicked(field, option) {\r\n\t\t\tswitch (option) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.duplicateField(field);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.warnRemoveField(field.field);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t}\r\n\t\t},\r\n\t\tduplicateField(field) {\r\n\t\t\tthis.fieldBeingDuplicated = field;\r\n\t\t\tthis.duplicatingField = true;\r\n\t\t},\r\n\t\tstartEditingField(field) {\r\n\t\t\tthis.fieldBeingEdited = field;\r\n\t\t\tthis.editingField = true;\r\n\t\t},\r\n\t\twarnRemoveField(fieldName) {\r\n\t\t\tthis.fieldToBeRemoved = fieldName;\r\n\t\t\tthis.confirmFieldRemove = true;\r\n\t\t},\r\n\t\tremoveField(fieldName) {\r\n\t\t\tthis.removingField = true;\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.deleteField(this.collection, fieldName)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.fields = this.fields.filter(({ field }) => field !== fieldName);\r\n\t\t\t\t\tthis.removingField = false;\r\n\t\t\t\t\tthis.fieldToBeRemoved = null;\r\n\t\t\t\t\tthis.confirmFieldRemove = false;\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: this.$t('field_removed'),\r\n\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\ticonMain: 'check'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.dispatch('removeField', {\r\n\t\t\t\t\t\tcollection: this.collection,\r\n\t\t\t\t\t\tfield: fieldName\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tstartSort() {\r\n\t\t\tthis.dragging = true;\r\n\t\t},\r\n\t\tsaveSort() {\r\n\t\t\tthis.dragging = false;\r\n\r\n\t\t\tconst fieldUpdates = this.fieldsWithSort.map(field => ({\r\n\t\t\t\tfield: field.field,\r\n\t\t\t\tsort: field.sort\r\n\t\t\t}));\r\n\r\n\t\t\tconst id = this.$helpers.shortid.generate();\r\n\t\t\tthis.$store.dispatch('loadingStart', { id });\r\n\r\n\t\t\tthis.$api.api\r\n\t\t\t\t.patch(`/fields/${this.collection}`, fieldUpdates, {\r\n\t\t\t\t\tactivity_skip: 1\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => res.data)\r\n\t\t\t\t.then(fields => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$store.dispatch('updateFields', {\r\n\t\t\t\t\t\tcollection: this.collection,\r\n\t\t\t\t\t\tupdates: fieldUpdates\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.fields = fields;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tthis.$store.dispatch('loadingFinished', id);\r\n\t\t\t\t\tthis.$events.emit('error', {\r\n\t\t\t\t\t\tnotify: this.$t('something_went_wrong_body'),\r\n\t\t\t\t\t\terror\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tconst { collection } = to.params;\r\n\r\n\t\tconst id = shortid.generate();\r\n\t\tstore.dispatch('loadingStart', { id });\r\n\r\n\t\treturn Promise.all([\r\n\t\t\tapi.getFields('directus_collections'),\r\n\t\t\tapi.getFields(collection, {\r\n\t\t\t\tsort: 'sort'\r\n\t\t\t})\r\n\t\t])\r\n\t\t\t.then(([directusRes, fieldsRes]) => ({\r\n\t\t\t\tdirectusFields: directusRes.data,\r\n\t\t\t\tfields: fieldsRes.data\r\n\t\t\t}))\r\n\t\t\t.then(({ directusFields, fields }) => {\r\n\t\t\t\tstore.dispatch('loadingFinished', id);\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.$data.directusFields = keyBy(\r\n\t\t\t\t\t\tdirectusFields.map(field => ({\r\n\t\t\t\t\t\t\t...field,\r\n\t\t\t\t\t\t\tname: formatTitle(field.field),\r\n\t\t\t\t\t\t\tnote: field.note\r\n\t\t\t\t\t\t})),\r\n\t\t\t\t\t\t'field'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdelete vm.$data.directusFields.note.note;\r\n\t\t\t\t\tvm.$data.directusFields.note.options = {\r\n\t\t\t\t\t\tplaceholder: vm.$t('note_note')\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvm.$data.fields = fields\r\n\t\t\t\t\t\t.map(field => ({\r\n\t\t\t\t\t\t\t...field,\r\n\t\t\t\t\t\t\tname: formatTitle(field.field)\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t.sort((a, b) => {\r\n\t\t\t\t\t\t\tif (a.sort == b.sort) return 0;\r\n\t\t\t\t\t\t\tif (a.sort === null) return 1;\r\n\t\t\t\t\t\t\tif (b.sort === null) return -1;\r\n\t\t\t\t\t\t\treturn a.sort > b.sort ? 1 : -1;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tstore.dispatch('loadingFinished', id);\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.$data.error = error;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-fields {\r\n\tpadding: var(--page-padding-top) var(--page-padding) var(--page-padding-bottom);\r\n}\r\n\r\nh2 {\r\n\tmargin-bottom: 20px;\r\n\r\n\t&:not(:first-of-type) {\r\n\t\tmargin-top: 60px;\r\n\t}\r\n}\r\n\r\n.table {\r\n\tbackground-color: var(--page-background-color);\r\n\tborder: var(--input-border-width) solid var(--input-border-color);\r\n\tborder-radius: var(--border-radius);\r\n\tborder-spacing: 0;\r\n\twidth: 100%;\r\n\tmax-width: 632px;\r\n\tmargin: 10px 0 20px;\r\n\r\n\t.header {\r\n\t\tborder-bottom: 2px solid var(--table-head-border-color);\r\n\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\r\n\t\t.row {\r\n\t\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\r\n\t\t}\r\n\t}\r\n\r\n\t.row {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\t> div {\r\n\t\t\tpadding: 5px 5px;\r\n\r\n\t\t\t&:not(.drag):not(.more-options) {\r\n\t\t\t\tflex-basis: 260px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.inner.row {\r\n\t\tflex-grow: 1;\r\n\t\toverflow: hidden;\r\n\r\n\t\t> div {\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.sortable-drag {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.dragging .sortable-chosen,\r\n\t.sortable-chosen:active {\r\n\t\tbackground-color: var(--highlight) !important;\r\n\t}\r\n\r\n\t.body {\r\n\t\t.dragging .row.link:hover {\r\n\t\t\tbackground-color: var(--page-background-color);\r\n\t\t}\r\n\r\n\t\t.row {\r\n\t\t\tcursor: pointer;\r\n\t\t\tposition: relative;\r\n\t\t\theight: calc(var(--input-height) - 2px); // -2px, border on container\r\n\t\t\tborder-bottom: 2px solid var(--table-row-border-color);\r\n\r\n\t\t\t&.inner,\r\n\t\t\t&:last-of-type {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground-color: var(--highlight);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.drag {\r\n\t\t\tuser-select: none;\r\n\t\t\tcursor: -webkit-grab;\r\n\t\t\tcolor: var(--input-border-color);\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tcolor: var(--input-border-color-hover);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.monospace {\r\n\t\t\tfont-family: 'Roboto Mono', monospace;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\tmargin-right: 8px;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.new-field {\r\n\tmargin-bottom: 40px;\r\n}\r\n\r\n.more-options {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\r\n\ti {\r\n\t\tcolor: var(--blue-grey-200);\r\n\t\ttransition: color var(--fast) var(--transition);\r\n\t}\r\n\r\n\t&:hover {\r\n\t\ti {\r\n\t\t\ttransition: none;\r\n\t\t\tcolor: var(--blue-grey-400);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nem.note {\r\n\tcolor: var(--note-text-color);\r\n\tmargin-top: var(--input-note-margin);\r\n\tmargin-bottom: var(--form-vertical-gap);\r\n\tdisplay: block;\r\n}\r\n\r\nlabel.type-label {\r\n\tmargin-bottom: var(--input-label-margin);\r\n\ttext-transform: none;\r\n}\r\n\r\n.ctx-menu {\r\n\tlist-style: none;\r\n\tpadding: 0;\r\n\twidth: 136px;\r\n\r\n\tli {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\ti {\r\n\t\tcolor: var(--blue-grey-300);\r\n\t\tmargin-right: 8px;\r\n\t\ttransition: color var(--fast) var(--transition);\r\n\t}\r\n\r\n\tbutton {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 4px;\r\n\t\tcolor: var(--blue-grey-400);\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttransition: color var(--fast) var(--transition);\r\n\t\t&:disabled,\r\n\t\t&[disabled] {\r\n\t\t\tcolor: var(--blue-grey-200);\r\n\t\t\ti {\r\n\t\t\t\tcolor: var(--blue-grey-200);\r\n\t\t\t}\r\n\t\t}\r\n\t\t&:not(:disabled):not(&[disabled]):hover {\r\n\t\t\tcolor: var(--blue-grey-900);\r\n\t\t\ttransition: none;\r\n\t\t\ti {\r\n\t\t\t\tcolor: var(--blue-grey-900);\r\n\t\t\t\ttransition: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nbutton {\r\n\t&.not-managed {\r\n\t\tpadding: 4px 8px;\r\n\t\tborder-radius: var(--border-radius);\r\n\t\tbackground-color: var(--button-primary-background-color);\r\n\t\tcolor: var(--button-primary-text-color);\r\n\r\n\t\tmin-width: auto;\r\n\t\theight: auto;\r\n\t\tborder: 0;\r\n\r\n\t\t&:hover {\r\n\t\t\tbackground-color: var(--button-primary-background-color-hover);\r\n\t\t\tcolor: var(--button-primary-text-color);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.optional {\r\n\tcolor: var(--blue-grey-200);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fields.vue?vue&type=template&id=1f6a9ba3&scoped=true&\"\nimport script from \"./fields.vue?vue&type=script&lang=js&\"\nexport * from \"./fields.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fields.vue?vue&type=style&index=0&id=1f6a9ba3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f6a9ba3\",\n  null\n  \n)\n\nexport default component.exports","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=style&index=0&id=1f6a9ba3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fields.vue?vue&type=style&index=0&id=1f6a9ba3&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=style&index=0&id=367f7394&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-setup.vue?vue&type=style&index=0&id=367f7394&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=style&index=0&id=27f29b16&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field-duplicate.vue?vue&type=style&index=0&id=27f29b16&lang=scss&scoped=true&\""],"sourceRoot":""}